(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7966],{9130:(e,s,t)=>{Promise.resolve().then(t.bind(t,9393))},9393:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5155),r=t(2115),l=t(5142),i=t(8552),n=t(1270),c=t(5565),d=t(4084),m=t(3206),o=t(4852),x=t(7146),u=t(7314);async function h(e,s){return new Promise((t,a)=>{let r=new Image,l=document.createElement("canvas"),i=l.getContext("2d");if(!i){a(Error("Canvas context not available"));return}r.onload=()=>{try{let{width:n,height:c}=r;s.maxWidth&&n>s.maxWidth&&(c=c*s.maxWidth/n,n=s.maxWidth),s.maxHeight&&c>s.maxHeight&&(n=n*s.maxHeight/c,c=s.maxHeight),l.width=n,l.height=c,i.drawImage(r,0,0,n,c),l.toBlob(l=>{if(!l){a(Error("Image conversion failed"));return}let i=new File([l],"".concat(e.name.replace(/\.[^/.]+$/,""),".").concat(s.format),{type:"image/".concat(s.format),lastModified:Date.now()}),n=l.size/e.size;t({file:i,originalSize:e.size,newSize:l.size,compressionRatio:n}),URL.revokeObjectURL(r.src)},"image/".concat(s.format),s.quality)}catch(e){URL.revokeObjectURL(r.src),a(e)}},r.onerror=()=>{URL.revokeObjectURL(r.src),a(Error("Failed to load image"))},r.src=URL.createObjectURL(e)})}function g(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}function p(){let{user:e}=(0,x.A)(),[s,t]=(0,r.useState)(!1),[p,j]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[k,R]=(0,r.useState)("jpeg"),[z,L]=(0,r.useState)(.9),[U,S]=(0,r.useState)(void 0),[F,C]=(0,r.useState)(void 0),[A,D]=(0,r.useState)(null),[P,E]=(0,r.useState)(null),[O,B]=(0,r.useState)(null),M=async e=>{if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(e.type)){w("L\xfctfen ge\xe7erli bir resim dosyası se\xe7in (PNG, JPEG, WebP)");return}j(e),f(null),E(null),w("");try{let s=await new Promise((s,t)=>{let a=new Image;a.onload=()=>{s({width:a.naturalWidth,height:a.naturalHeight}),URL.revokeObjectURL(a.src)},a.onerror=()=>{t(Error("Failed to load image for dimension reading")),URL.revokeObjectURL(a.src)},a.src=URL.createObjectURL(e)});D(s)}catch(e){console.error("Error getting image dimensions:",e)}B(URL.createObjectURL(e))},G=async()=>{if(!p)return;v(!0),w("");let s=Date.now();try{let t=await h(p,{format:k,quality:z,maxWidth:U,maxHeight:F});if(f(t.file),E(t),e)try{let a=Date.now()-s;await u.m2.createActivity(e.uid,{type:"image_convert",fileName:p.name,originalFileName:p.name,fileSize:p.size,processedSize:t.file.size,status:"success",category:"Image",processingTime:a,compressionRatio:100*Math.abs(1-t.compressionRatio)}),console.log("Image convert activity tracked successfully")}catch(e){console.error("Activity tracking error:",e)}}catch(t){if(w(t instanceof Error?t.message:"D\xf6n\xfcşt\xfcrme sırasında hata oluştu"),e&&p)try{let t=Date.now()-s;await u.m2.createActivity(e.uid,{type:"image_convert",fileName:p.name,originalFileName:p.name,fileSize:p.size,status:"error",category:"Image",processingTime:t})}catch(e){console.error("Activity tracking error:",e)}}finally{v(!1)}};return(0,r.useEffect)(()=>()=>{O&&URL.revokeObjectURL(O)},[O]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(d.A,{onAuthClick:()=>t(!0)}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"p-4 bg-purple-100 rounded-full",children:(0,a.jsx)(l.A,{className:"h-12 w-12 text-purple-600"})})}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Resim D\xf6n\xfcşt\xfcrme"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"PNG, JPEG ve WebP formatları arasında d\xf6n\xfcşt\xfcrme yapın"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:p?b?(0,a.jsx)(a.Fragment,{children:P&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-green-900 mb-3",children:"D\xf6n\xfcşt\xfcrme Tamamlandı!"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-green-800",children:"Orijinal"}),(0,a.jsxs)("div",{className:"text-sm text-green-700",children:[(0,a.jsxs)("div",{children:["Boyut: ",g(P.originalSize)]}),(0,a.jsxs)("div",{children:["Format: ",p.type.replace("image/","").toUpperCase()]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-green-800",children:"D\xf6n\xfcşt\xfcr\xfclm\xfcş"}),(0,a.jsxs)("div",{className:"text-sm text-green-700",children:[(0,a.jsxs)("div",{children:["Boyut: ",g(P.newSize)]}),(0,a.jsxs)("div",{children:["Format: ",k.toUpperCase()]}),(0,a.jsxs)("div",{className:"font-medium",children:[P.newSize<P.originalSize?"K\xfc\xe7\xfcltme":"B\xfcy\xfctme",": "," ",Math.round(100*Math.abs(1-P.compressionRatio)),"%"]})]})]})]}),(0,a.jsxs)("button",{onClick:()=>{if(!b)return;let e=URL.createObjectURL(b),s=document.createElement("a");s.href=e,s.download=b.name,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(e)},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[(0,a.jsx)(n.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"D\xf6n\xfcşt\xfcr\xfclm\xfcş Resmi İndir"})]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{onFileSelect:M,acceptedTypes:["image/png","image/jpeg","image/jpg","image/webp"],maxSize:0x3200000,title:"Resim Dosyası Y\xfckleyin",description:"PNG, JPEG veya WebP formatında resminizi buraya s\xfcr\xfckleyin",currentFiles:[p]}),(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Se\xe7ilen Dosya"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Dosya Adı:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:p.name})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Boyut:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:g(p.size)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Format:"}),(0,a.jsx)("span",{className:"text-sm font-medium uppercase",children:p.type.replace("image/","")})]}),A&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Boyutlar:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[A.width," \xd7 ",A.height]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>{j(null),f(null),E(null),w(""),D(null),O&&(URL.revokeObjectURL(O),B(null))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center space-x-1",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,a.jsx)("span",{children:"Farklı resim se\xe7"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-green-600",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"Resim hazır"})]})]})]}),O&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"\xd6nizleme"}),(0,a.jsx)("div",{className:"relative w-full h-48 bg-white rounded border flex items-center justify-center overflow-hidden",children:(0,a.jsx)(c.default,{src:O,alt:"".concat((null==p?void 0:p.name)||"Y\xfcklenen dosya"," resim \xf6nizlemesi - ").concat(k," formatına d\xf6n\xfcşt\xfcr\xfclecek"),fill:!0,className:"object-contain",unoptimized:!0,loading:"lazy",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"D\xf6n\xfcşt\xfcrme Ayarları"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hedef Format"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["jpeg","png","webp"].map(e=>(0,a.jsx)("button",{onClick:()=>R(e),className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat(k===e?"bg-purple-50 border-purple-300 text-purple-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:e.toUpperCase()},e))})]}),"png"!==k&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kalite: ",Math.round(100*z),"%"]}),(0,a.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:z,onChange:e=>L(parseFloat(e.target.value)),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"D\xfcş\xfck Kalite"}),(0,a.jsx)("span",{children:"Y\xfcksek Kalite"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Genişlik (px)"}),(0,a.jsx)("input",{type:"number",value:U||"",onChange:e=>S(e.target.value?parseInt(e.target.value):void 0),placeholder:"Orijinal",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Y\xfckseklik (px)"}),(0,a.jsx)("input",{type:"number",value:F||"",onChange:e=>C(e.target.value?parseInt(e.target.value):void 0),placeholder:"Orijinal",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:G,disabled:y,className:"bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"D\xf6n\xfcşt\xfcr\xfcl\xfcyor..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Resmi D\xf6n\xfcşt\xfcr"})]})})}),N&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:N})]})]}):(0,a.jsx)(m.A,{onFileSelect:M,acceptedTypes:["image/png","image/jpeg","image/jpg","image/webp"],maxSize:0x3200000,title:"Resim Dosyası Y\xfckleyin",description:"PNG, JPEG veya WebP formatında resminizi buraya s\xfcr\xfckleyin",currentFiles:[]})}),(0,a.jsxs)("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-purple-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\xc7oklu Format"}),(0,a.jsx)("p",{className:"text-gray-600",children:"PNG, JPEG ve WebP formatları arasında d\xf6n\xfcşt\xfcrme"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Kalite Kontrol\xfc"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Dosya boyutu ve kalite dengesini ayarlayın"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Anında İşlem"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Browser'da hızlı d\xf6n\xfcşt\xfcrme, upload gerektirmez"})]})]})]}),s&&(0,a.jsx)(o.default,{onClose:()=>t(!1)})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,1794,8779,5228,6335,3238,7444,8848,622,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,7146,4084,7314,5301,8441,7358],()=>s(9130)),_N_E=e.O()}]);