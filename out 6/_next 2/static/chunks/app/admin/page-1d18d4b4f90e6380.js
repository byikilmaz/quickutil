(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{21569:(e,s,t)=>{Promise.resolve().then(t.bind(t,47929))},47929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(95155),l=t(12115),a=t(17146),i=t(96551),c=t(76046),n=t(60915),d=t(12461),o=t(94090),x=t(38217),m=t(27072),h=t(14826),g=t(99275),u=t(2607);function b(){let{user:e,isAdmin:s,loading:t}=(0,a.A)(),b=(0,c.useRouter)(),[y,N]=(0,l.useState)(null),[v,f]=(0,l.useState)(!0),[w,k]=(0,l.useState)(null);return((0,l.useEffect)(()=>{if(!t&&(!e||!s)){b.push("/");return}},[e,s,t,b]),(0,l.useEffect)(()=>{let e=async()=>{if(s)try{f(!0);let e=await i.w.getDashboardMetrics();N(e)}catch(e){console.error("Metrics loading error:",e),k("Veriler y\xfcklenirken hata oluştu")}finally{f(!1)}};s&&e()},[s]),t||v)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?w?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(n.A,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hata"}),(0,r.jsx)("p",{className:"text-gray-600",children:w}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Yeniden Dene"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Hoş geldiniz, ",null==e?void 0:e.email]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(j,{title:"Toplam Kullanıcı",value:y.totalUsers.toLocaleString(),icon:o.A,color:"blue"}),(0,r.jsx)(j,{title:"Toplam İşlem",value:y.totalActivities.toLocaleString(),icon:x.A,color:"green"}),(0,r.jsx)(j,{title:"Bug\xfcnk\xfc İşlemler",value:y.todayActivities.toLocaleString(),icon:m.A,color:"yellow"}),(0,r.jsx)(j,{title:"Başarı Oranı",value:"".concat(y.successRate.toFixed(1),"%"),icon:h.A,color:"green"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aktivite İstatistikleri"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Bu Hafta"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:y.weeklyActivities.toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Bu Ay"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:y.monthlyActivities.toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Toplam"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:y.totalActivities.toLocaleString()})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pop\xfcler \xd6zellikler"}),(0,r.jsx)("div",{className:"space-y-3",children:y.popularFeatures.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:e.feature}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.percentage.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:e.count})]})]},e.feature))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Son Hatalar"}),(0,r.jsx)("div",{className:"space-y-3",children:y.recentErrors.length>0?y.recentErrors.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"border-l-4 border-red-400 pl-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-800 truncate",children:e.error}),(0,r.jsxs)("p",{className:"text-xs text-red-600",children:[e.count," kez • ",e.lastOccurred.toLocaleDateString()]})]},e.error)):(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Hen\xfcz hata kaydı yok"})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hızlı Erişim"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(p,{title:"Kullanıcı Listesi",description:"T\xfcm kullanıcıları g\xf6r\xfcnt\xfcle",icon:o.A,onClick:()=>b.push("/admin/users")}),(0,r.jsx)(p,{title:"Aktivite Logları",description:"Sistem aktivitelerini izle",icon:m.A,onClick:()=>b.push("/admin/activities")}),(0,r.jsx)(p,{title:"Sistem Durumu",description:"Server durumu ve performans",icon:g.A,onClick:()=>b.push("/admin/system")}),(0,r.jsx)(p,{title:"Raporlar",description:"Detaylı analiz raporları",icon:u.A,onClick:()=>b.push("/admin/reports")})]})]})]})})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(n.A,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erişim Reddedildi"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Bu sayfaya erişim yetkiniz bulunmamaktadır."})]})})}function j(e){let{title:s,value:t,icon:l,color:a="blue"}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:s}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat({blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",red:"bg-red-50 text-red-600 border-red-200"}[a]),children:(0,r.jsx)(l,{className:"h-6 w-6"})})]})})}function p(e){let{title:s,description:t,icon:l,onClick:a}=e;return(0,r.jsx)("button",{onClick:a,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 group",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(l,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 transition-colors"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:s}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,3859,4147,7681,7887,7101,5401,9659,6108,2023,7449,8315,6865,65,8618,9186,1670,8550,4229,7236,2278,7298,2518,2685,6917,63,8681,438,927,192,313,542,8857,9836,7885,1696,4130,3775,6819,9479,8425,8410,1556,9134,8996,9759,858,7357,9008,4681,4164,2575,6370,3022,9497,8732,5062,4003,6990,4031,1858,5825,5682,6971,3522,8478,5378,2480,7955,8676,4153,2769,2323,1263,1966,8192,6532,3642,8523,3443,2429,4316,4506,224,1153,9869,1066,134,9344,7927,2171,5828,6696,2935,7659,3469,9652,8282,5635,179,3566,8701,2587,4434,993,3013,9150,9742,3397,625,7370,9945,4408,3537,4409,8878,8441,7358],()=>s(21569)),_N_E=e.O()}]);