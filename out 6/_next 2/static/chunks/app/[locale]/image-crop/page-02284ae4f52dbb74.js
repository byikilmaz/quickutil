(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3272],{51691:(e,t,a)=>{Promise.resolve().then(a.bind(a,59895))},59895:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(95155),i=a(12115),n=a(21899),s=a(45142),l=a(59335),o=a(27919),c=a(91036),d=a(17146),h=a(68464),m=a(43768);function u(){let{user:e}=(0,d.A)(),[t,a]=(0,i.useState)("upload"),[u,g]=(0,i.useState)(null),[x,p]=(0,i.useState)(""),[b,f]=(0,i.useState)(null),[w,y]=(0,i.useState)({x:0,y:0,width:0,height:0}),[j,v]=(0,i.useState)(null),[N,R]=(0,i.useState)(!1),[k,L]=(0,i.useState)(""),[U,M]=(0,i.useState)(!1),[z,C]=(0,i.useState)(null),E=(0,i.useRef)(null),S=(0,i.useRef)(null),D=e=>["image/jpeg","image/png","image/webp","image/gif"].includes(e.type)?e.size>0x3200000?"Dosya boyutu 50MB'tan k\xfc\xe7\xfck olmalıdır":null:"Desteklenen formatlar: JPEG, PNG, WebP, GIF",O=async e=>{let t=e[0],r=D(t);if(r){L(r);return}g(t),p(URL.createObjectURL(t)),a("cropping"),L("");try{let e=await (0,m.vX)(t);f(e);let a={x:Math.round(.1*e.width),y:Math.round(.1*e.height),width:Math.round(.8*e.width),height:Math.round(.8*e.height)};y(a)}catch(e){console.error("Error getting image dimensions:",e),L("Resim boyutları alınamadı")}},{getRootProps:F,getInputProps:B,isDragActive:I}=(0,o.VB)({onDrop:O,accept:{"image/*":[".jpeg",".jpg",".png",".webp",".gif"]},multiple:!1}),A=(0,i.useCallback)(e=>{if(e.preventDefault(),!E.current)return;let t=e.touches[0],a=E.current.getBoundingClientRect();M(!0),C({x:t.clientX-a.left,y:t.clientY-a.top})},[]),P=(0,i.useCallback)(e=>{if(e.preventDefault(),!U||!z||!E.current||!b)return;let t=e.touches[0],a=E.current.getBoundingClientRect(),r=t.clientX-a.left,i=t.clientY-a.top,n=b.width/a.width,s=b.height/a.height,l=Math.max(0,Math.min(.8*b.width,(r-z.x)*n+w.x)),o=Math.max(0,Math.min(.8*b.height,(i-z.y)*s+w.y));y(e=>({...e,x:l,y:o}))},[U,z,w,b]),W=(0,i.useCallback)(()=>{M(!1),C(null)},[]),H=async()=>{if(!u||!w.width||!w.height){L("L\xfctfen kırpılacak alanı se\xe7in");return}R(!0),L("");let t=Date.now();try{let r=await (0,m.ey)(u,w);if(v(r),a("result"),e){let a=Date.now()-t;await (0,h.HC)(e.uid,u.name,u.size,r.file.size,a)}}catch(e){L(e instanceof Error?e.message:"Kırpma sırasında hata oluştu")}finally{R(!1)}},_=()=>{a("upload"),g(null),p(""),f(null),y({x:0,y:0,width:0,height:0}),v(null),L("")},q=e=>{let t;if(!b)return;let{width:a,height:r}=b;switch(e){case"square":let i=.9*Math.min(a,r);t={x:Math.round((a-i)/2),y:Math.round((r-i)/2),width:Math.round(i),height:Math.round(i)};break;case"center":t={x:Math.round(.15*a),y:Math.round(.15*r),width:Math.round(.7*a),height:Math.round(.7*r)};break;case"wide":t={x:0,y:Math.round(.2*r),width:a,height:Math.round(.6*r)};break;case"tall":t={x:Math.round(.2*a),y:0,width:Math.round(.6*a),height:r}}y(t)};return(0,i.useEffect)(()=>()=>{x&&URL.revokeObjectURL(x)},[x]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 page-transition",children:["upload"===t&&(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsx)(c.A,{}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white mb-4 shadow-lg",children:(0,r.jsx)(n.A,{className:"w-8 h-8"})}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Resim Kırpma"}),(0,r.jsx)("p",{className:"text-gray-700 max-w-md mx-auto",children:"Resimlerinizi kolayca kırpın ve tam istediğiniz alanı se\xe7in"})]}),(0,r.jsxs)("div",{...F(),className:"border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-300 ".concat(I?"border-purple-500 bg-purple-50 scale-[1.02]":"border-gray-300 hover:border-purple-400 hover:bg-gray-50"),children:[(0,r.jsx)("input",{...B()}),(0,r.jsx)(s.A,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:I?"Dosyayı Bırakın":"Resim Y\xfckleyin"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"JPEG, PNG, WebP formatları • Max 50MB"}),(0,r.jsx)("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-colors font-medium shadow-lg text-sm",children:"\uD83D\uDCC1 Dosya Se\xe7"}),k&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,r.jsx)("p",{className:"text-red-700 text-sm",children:k})})]})]}),"cropping"===t&&u&&(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-purple-600"}),(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Kırpma"})]}),(0,r.jsx)("button",{onClick:_,className:"text-sm text-gray-800 bg-gray-100 px-3 py-1.5 rounded-lg",children:"Yeni Resim"})]})}),(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,r.jsxs)("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:[(0,r.jsx)("button",{onClick:()=>q("square"),className:"flex-shrink-0 bg-gray-100 text-gray-800 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap",children:"\uD83D\uDD32 Kare"}),(0,r.jsx)("button",{onClick:()=>q("center"),className:"flex-shrink-0 bg-gray-100 text-gray-800 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap",children:"\uD83C\uDFAF Merkez"}),(0,r.jsx)("button",{onClick:()=>q("wide"),className:"flex-shrink-0 bg-gray-100 text-gray-800 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap",children:"\uD83D\uDCD0 Geniş"}),(0,r.jsx)("button",{onClick:()=>q("tall"),className:"flex-shrink-0 bg-gray-100 text-gray-800 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap",children:"\uD83D\uDCCF Uzun"})]})}),(0,r.jsx)("div",{className:"flex-1 bg-gray-900 relative overflow-hidden",children:x&&(0,r.jsxs)("div",{className:"relative h-full flex items-center justify-center",children:[(0,r.jsx)("img",{ref:E,src:x,alt:"Kırpma \xf6nizlemesi",className:"max-w-full max-h-full object-contain",onTouchStart:A,onTouchMove:P,onTouchEnd:W,style:{userSelect:"none",touchAction:"none"},draggable:!1}),(0,r.jsxs)("div",{ref:S,className:"absolute border-2 border-white shadow-lg",style:{...(()=>{if(!b||!E.current)return{};let e=E.current.getBoundingClientRect(),t=e.width/b.width,a=e.height/b.height;return{left:"".concat(w.x*t,"px"),top:"".concat(w.y*a,"px"),width:"".concat(w.width*t,"px"),height:"".concat(w.height*a,"px")}})(),boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)",touchAction:"none"},children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute -top-3 -left-3 w-6 h-6 bg-white border-2 border-purple-500 rounded-full shadow-md"}),(0,r.jsx)("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-white border-2 border-purple-500 rounded-full shadow-md"}),(0,r.jsx)("div",{className:"absolute -bottom-3 -left-3 w-6 h-6 bg-white border-2 border-purple-500 rounded-full shadow-md"}),(0,r.jsx)("div",{className:"absolute -bottom-3 -right-3 w-6 h-6 bg-white border-2 border-purple-500 rounded-full shadow-md"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full border-2 border-white/50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})})]})]})}),(0,r.jsxs)("div",{className:"bg-white border-t border-gray-200 p-4 safe-area-bottom",children:[(0,r.jsx)("div",{className:"flex space-x-3",children:(0,r.jsx)("button",{onClick:H,disabled:N,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"İşleniyor..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Kırp"})]})})}),k&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,r.jsx)("p",{className:"text-red-700 text-sm text-center",children:k})})]})]}),"result"===t&&j&&(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-green-600"}),(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Tamamlandı"})]}),(0,r.jsx)("button",{onClick:_,className:"text-sm text-gray-800 bg-gray-100 px-3 py-1.5 rounded-lg",children:"Yeni Resim"})]})}),(0,r.jsx)("div",{className:"flex-1 bg-gray-100 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-4 max-w-full max-h-full",children:(0,r.jsx)("img",{src:URL.createObjectURL(j.file),alt:"Kırpılmış resim",className:"max-w-full max-h-full object-contain rounded-xl"})})}),(0,r.jsxs)("div",{className:"bg-white border-t border-gray-200 p-4 safe-area-bottom",children:[(0,r.jsx)("div",{className:"text-center mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Boyut: ",(0,m.v7)(j.file.size)]})}),(0,r.jsxs)("button",{onClick:()=>{if(!j)return;let e=URL.createObjectURL(j.file),t=document.createElement("a");t.href=e,t.download=j.file.name,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)},className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-xl font-semibold flex items-center justify-center space-x-2 shadow-lg",children:[(0,r.jsx)(l.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"İndir"})]})]})]})]})}},91036:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(95155),i=a(48173),n=a.n(i),s=a(22471),l=a(40187),o=a(31824),c=a(76046);function d(e){let{items:t}=e,a=(0,c.usePathname)(),i=(()=>{if(t)return t;let e={"/pdf-compress":"PDF Sıkıştırma","/pdf-convert":"PDF D\xf6n\xfcşt\xfcrme","/image-convert":"Resim D\xf6n\xfcşt\xfcrme"},r=[{name:"Ana Sayfa",href:"/",current:"/"===a}];return"/"!==a&&e[a]&&r.push({name:e[a],href:a,current:!0}),r})(),d=(0,o.zY)(a);return"/"===a?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),(0,r.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",role:"navigation",children:(0,r.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 text-sm",children:i.map((e,t)=>(0,r.jsxs)("li",{className:"inline-flex items-center",children:[t>0&&(0,r.jsx)(s.A,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2","aria-hidden":"true"}),e.current?(0,r.jsxs)("span",{className:"ml-1 text-gray-500 font-medium","aria-current":"page",children:[0===t&&(0,r.jsx)(l.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]}):(0,r.jsxs)(n(),{href:e.href,className:"ml-1 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[0===t&&(0,r.jsx)(l.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]})]},e.href))})})]})}},43768:(e,t,a)=>{"use strict";async function r(e,t){return new Promise((a,r)=>{let i=new Image,s=document.createElement("canvas"),l=s.getContext("2d");if(!l){r(Error("Canvas context not available"));return}i.onload=()=>{try{let{width:o,height:c}=i;t.maxWidth&&o>t.maxWidth&&(c=c*t.maxWidth/o,o=t.maxWidth),t.maxHeight&&c>t.maxHeight&&(o=o*t.maxHeight/c,c=t.maxHeight),s.width=o,s.height=c,l.drawImage(i,0,0,o,c),s.toBlob(s=>{if(!s){r(Error("Image conversion failed"));return}let l=new File([s],"".concat(n(e.name),".").concat(t.format),{type:"image/".concat(t.format),lastModified:Date.now()}),o=s.size/e.size;a({file:l,originalSize:e.size,newSize:s.size,compressionRatio:o}),URL.revokeObjectURL(i.src)},"image/".concat(t.format),t.quality)}catch(e){URL.revokeObjectURL(i.src),r(e)}},i.onerror=()=>{URL.revokeObjectURL(i.src),r(Error("Failed to load image"))},i.src=URL.createObjectURL(e)})}function i(e){switch(e){case"image/png":return"png";case"image/jpeg":case"image/jpg":default:return"jpeg";case"image/webp":return"webp"}}function n(e){return e.replace(/\.[^/.]+$/,"")}function s(e){return["image/png","image/jpeg","image/jpg","image/webp"].includes(e.type)}function l(e){return new Promise((t,a)=>{let r=new Image;r.onload=()=>{t({width:r.naturalWidth,height:r.naturalHeight}),URL.revokeObjectURL(r.src)},r.onerror=()=>{a(Error("Failed to load image for dimension reading")),URL.revokeObjectURL(r.src)},r.src=URL.createObjectURL(e)})}function o(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}async function c(e,t){return new Promise((a,r)=>{let s=new Image,l=document.createElement("canvas"),o=l.getContext("2d");if(!o){r(Error("Canvas context not available"));return}s.onload=()=>{try{let{width:c,height:d}=s;t.maxWidth&&c>t.maxWidth&&(d=d*t.maxWidth/c,c=t.maxWidth),t.maxHeight&&d>t.maxHeight&&(c=c*t.maxHeight/d,d=t.maxHeight),l.width=c,l.height=d,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(s,0,0,c,d);let h=t.format||i(e.type),m="image/".concat(h);l.toBlob(t=>{if(!t){r(Error("Image compression failed"));return}let i=new File([t],"".concat(n(e.name),"_compressed.").concat(h),{type:m,lastModified:Date.now()}),l=t.size/e.size;a({file:i,originalSize:e.size,newSize:t.size,compressionRatio:l}),URL.revokeObjectURL(s.src)},m,t.quality)}catch(e){URL.revokeObjectURL(s.src),r(e)}},s.onerror=()=>{URL.revokeObjectURL(s.src),r(Error("Failed to load image"))},s.src=URL.createObjectURL(e)})}async function d(e,t){return new Promise((a,r)=>{let s=new Image,l=document.createElement("canvas"),o=l.getContext("2d");if(!o){r(Error("Canvas context not available"));return}s.onload=()=>{try{let c=s.width,d=s.height,h=t.width||c,m=t.height||d;if(!1!==t.maintainAspectRatio){if(t.width&&!t.height)m=d*h/c;else if(t.height&&!t.width)h=c*m/d;else if(t.width&&t.height){let e=c/d,a=h/m;"fit"===t.resizeMode&&(e>a?m=h/e:h=m*e)}}l.width=h,l.height=m,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(s,0,0,h,m);let u=i(e.type),g="image/".concat(u);l.toBlob(t=>{if(!t){r(Error("Image resize failed"));return}let i=new File([t],"".concat(n(e.name),"_resized.").concat(u),{type:g,lastModified:Date.now()});a({file:i,originalSize:e.size,newSize:t.size,compressionRatio:t.size/e.size}),URL.revokeObjectURL(s.src)},g,.9)}catch(e){URL.revokeObjectURL(s.src),r(e)}},s.onerror=()=>{URL.revokeObjectURL(s.src),r(Error("Failed to load image"))},s.src=URL.createObjectURL(e)})}async function h(e,t){return new Promise((a,r)=>{let s=new Image,l=document.createElement("canvas"),o=l.getContext("2d");if(!o){r(Error("Canvas context not available"));return}s.onload=()=>{try{if(t.x<0||t.y<0||t.x+t.width>s.width||t.y+t.height>s.height){r(Error("Crop dimensions are out of image bounds"));return}l.width=t.width,l.height=t.height,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(s,t.x,t.y,t.width,t.height,0,0,t.width,t.height);let c=i(e.type),d="image/".concat(c);l.toBlob(t=>{if(!t){r(Error("Image crop failed"));return}let i=new File([t],"".concat(n(e.name),"_cropped.").concat(c),{type:d,lastModified:Date.now()});a({file:i,originalSize:e.size,newSize:t.size,compressionRatio:t.size/e.size}),URL.revokeObjectURL(s.src)},d,.9)}catch(e){URL.revokeObjectURL(s.src),r(e)}},s.onerror=()=>{URL.revokeObjectURL(s.src),r(Error("Failed to load image"))},s.src=URL.createObjectURL(e)})}async function m(e,t){return new Promise((a,r)=>{let s=new Image,l=document.createElement("canvas"),o=l.getContext("2d");if(!o){r(Error("Canvas context not available"));return}s.onload=()=>{try{let c=t.angle*Math.PI/180,d=Math.abs(Math.cos(c)),h=Math.abs(Math.sin(c)),m=s.width*d+s.height*h,u=s.width*h+s.height*d;l.width=m,l.height=u,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.translate(m/2,u/2),o.rotate(c),o.drawImage(s,-s.width/2,-s.height/2);let g=i(e.type),x="image/".concat(g);l.toBlob(t=>{if(!t){r(Error("Image rotation failed"));return}let i=new File([t],"".concat(n(e.name),"_rotated.").concat(g),{type:x,lastModified:Date.now()});a({file:i,originalSize:e.size,newSize:t.size,compressionRatio:t.size/e.size}),URL.revokeObjectURL(s.src)},x,.9)}catch(e){URL.revokeObjectURL(s.src),r(e)}},s.onerror=()=>{URL.revokeObjectURL(s.src),r(Error("Failed to load image"))},s.src=URL.createObjectURL(e)})}function u(e){return["image/png","image/jpeg","image/jpg","image/webp","image/gif","image/svg+xml"].includes(e.type)}function g(e){return e>5242880?{quality:.6,maxWidth:1920,maxHeight:1080}:e>2097152?{quality:.7,maxWidth:2560,maxHeight:1440}:e>1048576?{quality:.8}:{quality:.9}}a.d(t,{MJ:()=>c,Wl:()=>s,ey:()=>h,hC:()=>r,m9:()=>g,tF:()=>m,v7:()=>o,vX:()=>l,xZ:()=>u,yh:()=>d})}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,3859,4147,7681,7887,7101,5401,9659,6108,2023,7449,8315,6865,65,8618,9186,1670,8550,4229,7236,2278,7298,2518,2685,6917,63,8681,438,927,192,313,542,8857,9836,7885,1696,4130,3775,6819,9479,8425,8410,1556,9134,8996,9759,858,7357,9008,4681,4164,2575,6370,3022,9497,8732,5062,4003,6990,4031,1858,5825,5682,6971,3522,8478,5378,2480,7955,8676,4153,2769,2323,1263,1966,8192,6532,3642,8523,3443,2429,4316,4506,224,1153,9869,1066,134,9344,7927,2171,5828,6696,2935,7659,3469,9652,8282,5635,179,3566,8701,2587,4434,993,3013,9150,9742,3397,625,7370,9945,4408,3537,4409,1824,9169,8441,7358],()=>t(51691)),_N_E=e.O()}]);