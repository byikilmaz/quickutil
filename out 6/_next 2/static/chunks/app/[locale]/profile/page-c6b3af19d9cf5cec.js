(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2943],{52956:(e,s,t)=>{Promise.resolve().then(t.bind(t,57477))},57477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(95155),r=t(12115),l=t(48173),i=t.n(l),n=t(76046),c=t(17146),d=t(68464),o=t(38217),m=t(45142),x=t(49613),h=t(91153),u=t(60915),g=t(12461),y=t(3623),p=t(27072),b=t(68491),f=t(68651),j=t(56960),N=t(38094),v=t(29682),w=t(21096);function k(){let{files:e,quota:s,loading:t,error:l,refreshFiles:i,deleteFile:n,cleanupExpiredFiles:c}=(0,f.r)(),[d,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),h=async e=>{if(confirm("Bu dosyayı silmek istediğinizden emin misiniz?"))try{await n(e),await i()}catch(e){console.error("Delete error:",e)}},u=async()=>{if(confirm("30 g\xfcnden eski dosyalar silinecek. Devam etmek istiyor musunuz?")){x(!0);try{let e=await c();alert("".concat(e," adet eski dosya silindi."))}catch(e){console.error("Cleanup error:",e),alert("Temizlik işlemi başarısız oldu.")}finally{x(!1)}}},g=e=>{window.open(e.downloadURL,"_blank")},p=e=>j.b.formatFileSize(e),b=e=>new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>e.includes("pdf")?(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(N.A,{className:"h-5 w-5 text-red-600"})}):e.includes("image")?(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(N.A,{className:"h-5 w-5 text-gray-600"})});return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12.017 11.986c-.009-6.373-4.27-8.042-4.27-8.042s-.405 1.062-.018 2.832c.423 1.937 1.712 2.966 1.712 2.966s-.995-.048-2.963-.755c-1.848-.664-3.015-2.52-3.478-4.987-.463-2.467.42-4.994.42-4.994s-.648.06-1.082.525c-.434.465-.648 1.102-.648 1.102s1.155-4.024 4.024-4.024c2.869 0 5.207 2.338 5.207 5.207l.007.037c0 .033.007.066.007.1 0 2.869-2.338 5.207-5.207 5.207l-.037-.007c-.033 0-.066-.007-.1-.007z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Firebase Storage"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Dosya depolama alanınız"})]})]}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Kullanılan Alan"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[p(s.used)," / ",p(s.limit)]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(s.percentage>80?"bg-red-500":s.percentage>60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(s.percentage,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[s.percentage.toFixed(1),"% kullanıldı • ",e.length," dosya"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>i(),disabled:t,className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors disabled:opacity-50",children:t?"Y\xfckleniyor...":"Yenile"}),(0,a.jsx)("button",{onClick:u,disabled:m||t,className:"bg-gray-50 text-gray-600 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:m?"Temizleniyor...":"Temizle"})]}),l&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:l})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Son Dosyalar"}),e.length>3&&(0,a.jsx)("button",{onClick:()=>o(!d),className:"text-xs text-blue-600 hover:text-blue-800",children:d?"Daha Az":"+".concat(e.length-3," Daha")})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Hen\xfcz dosya yok"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"PDF işlemleriniz burada g\xf6r\xfcnecek"})]}):(0,a.jsx)(a.Fragment,{children:(d?e:e.slice(0,3)).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 group",children:[k(e.contentType),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name.replace(/^(pdf|image|document)_\d+_/,"")}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[p(e.size)," • ",b(e.timeCreated)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>g(e),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded",title:"İndir",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>h(e.fullPath),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Sil",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsx)("p",{children:"• Dosyalar 30 g\xfcn sonra otomatik silinir"}),(0,a.jsx)("p",{children:"• 5GB \xfccretsiz depolama alanı"}),(0,a.jsx)("p",{children:"• G\xfcvenli Firebase Storage"})]})})]})}function S(){var e;let{user:s,userProfile:t,loading:l}=(0,c.A)(),[f,j]=(0,r.useState)([]),[N,v]=(0,r.useState)({totalFiles:0,totalSizeSaved:0,thisMonthFiles:0,favoriteFeature:"PDF Sıkıştırma",successRate:0,avgProcessingTime:0}),[w,S]=(0,r.useState)("overview"),[F,D]=(0,r.useState)(!0),[z,A]=(0,r.useState)(null),C=(0,r.useCallback)(async()=>{if(s){D(!0),A(null);try{let[e,t]=await Promise.all([d.m2.getUserActivities(s.uid,{limit:20}),d.m2.getUserStats(s.uid)]);if(e.success&&e.data?j(e.data.items):console.error("Error loading activities:",e.error),t.success&&t.data){let e=t.data;v({totalFiles:e.totalFiles,totalSizeSaved:e.totalSizeSaved,thisMonthFiles:e.thisMonthFiles,favoriteFeature:E(e.favoriteFeature),successRate:e.successRate,avgProcessingTime:e.avgProcessingTime})}else console.error("Error loading stats:",t.error)}catch(e){console.error("Error loading user data:",e),A("Veriler y\xfcklenirken bir hata oluştu")}finally{D(!1)}}},[s]);(0,r.useEffect)(()=>{if(!l&&!s){(0,n.redirect)("/");return}s&&!l&&C()},[s,l,C]);let E=e=>({pdf_compress:"PDF Sıkıştırma",pdf_convert:"PDF D\xf6n\xfcşt\xfcrme",image_convert:"G\xf6rsel D\xf6n\xfcşt\xfcrme"})[e]||"PDF Sıkıştırma",P=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},M=e=>{switch(e){case"pdf_compress":case"pdf_convert":return(0,a.jsx)(o.A,{className:"w-5 h-5 text-red-500"});case"image_convert":return(0,a.jsx)(m.A,{className:"w-5 h-5 text-green-500"});default:return(0,a.jsx)(o.A,{className:"w-5 h-5 text-gray-500"})}},T=e=>({pdf_compress:"PDF Sıkıştırma",pdf_convert:"PDF D\xf6n\xfcşt\xfcrme",image_convert:"G\xf6rsel D\xf6n\xfcşt\xfcrme"})[e]||e,_=e=>{let s=Math.floor((new Date().getTime()-e.getTime())/36e5);return s<1?"Az \xf6nce":s<24?"".concat(s," saat \xf6nce"):s<168?"".concat(Math.floor(s/24)," g\xfcn \xf6nce"):"".concat(Math.floor(s/168)," hafta \xf6nce")},B=e=>{let s=new Date,t=Math.floor((e.getTime()-s.getTime())/36e5);return t<0?"S\xfcresi dolmuş":t<24?"".concat(t," saat kaldı"):t<168?"".concat(Math.floor(t/24)," g\xfcn kaldı"):"".concat(Math.floor(t/168)," hafta kaldı")};return l||!s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("nav",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsx)(i(),{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"\uD83C\uDFE0 Ana Sayfa"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:"Profilim"})]})})}),(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-700 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:t?"".concat(t.firstName.charAt(0)).concat(t.lastName.charAt(0)):"K"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t?"".concat(t.firstName," ").concat(t.lastName):"Kullanıcı"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:s.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\xdcye oldu: ",null==t?void 0:null===(e=t.createdAt)||void 0===e?void 0:e.toLocaleDateString("tr-TR")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(x.A,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:()=>S("settings"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(h.A,{className:"w-6 h-6"})})]})]}),z&&(0,a.jsx)("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-red-400 mr-2"}),(0,a.jsx)("p",{className:"text-red-800",children:z}),(0,a.jsx)("button",{onClick:()=>A(null),className:"ml-auto text-red-400 hover:text-red-600",children:"\xd7"})]})}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Genel Bakış",icon:g.A},{id:"files",label:"Dosyalarım",icon:y.A},{id:"settings",label:"Ayarlar",icon:h.A}].map(e=>(0,a.jsxs)("button",{onClick:()=>S(e.id),className:"flex items-center space-x-2 px-3 py-2 border-b-2 font-medium text-sm transition-colors ".concat(w===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label})]},e.id))})})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===w&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Toplam Dosya"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N.totalFiles})]}),(0,a.jsx)("div",{className:"p-3 bg-blue-50 rounded-full",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tasarruf Edilen"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:P(N.totalSizeSaved)})]}),(0,a.jsx)("div",{className:"p-3 bg-green-50 rounded-full",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Bu Ay"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N.thisMonthFiles})]}),(0,a.jsx)("div",{className:"p-3 bg-purple-50 rounded-full",children:(0,a.jsx)(p.A,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Başarı Oranı"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[N.successRate.toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"p-3 bg-orange-50 rounded-full",children:(0,a.jsx)(b.A,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Son Aktiviteler"}),(0,a.jsx)("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Yenile"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:F?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===f.length?(0,a.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Hen\xfcz hi\xe7 dosya işlemi yapılmamış"}),(0,a.jsx)("p",{className:"text-sm",children:"İlk dosyanızı işlemek i\xe7in ana sayfaya gidin"})]}):f.slice(0,10).map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-full",children:M(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[T(e.type)," • ",P(e.fileSize),e.processedSize&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["→ ",P(e.processedSize)]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["S\xfcre: ",B(e.expiresAt)]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:_(e.timestamp)}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-800":"error"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"success"===e.status?"Başarılı":"error"===e.status?"Hata":"İşleniyor"})]})},e.id))})]})]}),"files"===w&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Son İşlenen Dosyalar"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Son işlediğiniz dosyalar ve işlem detayları"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:F?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===f.length?(0,a.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Hen\xfcz hi\xe7 dosya işlemi yapılmamış"}),(0,a.jsx)("p",{className:"text-sm",children:"İlk dosyanızı işlemek i\xe7in ana sayfaya gidin"})]}):f.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-full",children:M(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[T(e.type)," • ",P(e.fileSize),e.processedSize&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["→ ",P(e.processedSize)]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["S\xfcre: ",B(e.expiresAt)]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:_(e.timestamp)}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-800":"error"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"success"===e.status?"Başarılı":"error"===e.status?"Hata":"İşleniyor"})]})},e.id))})]})]}),"settings"===w&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profil Ayarları"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad"}),(0,a.jsx)("input",{type:"text",value:(null==t?void 0:t.firstName)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soyad"}),(0,a.jsx)("input",{type:"text",value:(null==t?void 0:t.lastName)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),(0,a.jsx)("input",{type:"email",value:s.email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Profil d\xfczenleme \xf6zelliği yakında eklenecek."})]})]}),(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tercihler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"E-posta Bildirimleri"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Dosya s\xfcresi dolmadan \xf6nce uyarı al"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600",defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Otomatik Sıkıştırma"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"PDF dosyalarını otomatik olarak sıkıştır"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600",defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"G\xfcvenli Silme"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Dosya işleminden sonra orijinali g\xfcvenle sil"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600"})]})]})]})]})]})]})}},68651:(e,s,t)=>{"use strict";t.d(s,{L:()=>d,r:()=>c});var a=t(95155),r=t(12115),l=t(17146),i=t(56960);let n=(0,r.createContext)(null),c=()=>(0,r.useContext)(n)||(console.log("useStorage called outside StorageProvider, returning mock values"),{files:[],quota:{used:0,limit:0x140000000,percentage:0},loading:!1,error:null,uploadFile:async()=>({file:{},downloadURL:""}),deleteFile:async()=>{},refreshFiles:async()=>{},refreshQuota:async()=>{},cleanupExpiredFiles:async()=>0}),d=e=>{let{children:s}=e,{user:t}=(0,l.A)(),[c,d]=(0,r.useState)([]),[o,m]=(0,r.useState)({used:0,limit:0x140000000,percentage:0}),[x,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),y=(0,r.useCallback)(async()=>{if(!t){d([]);return}try{g(null);let e=await i.b.listUserFiles(t.uid);d(e)}catch(e){console.error("Error loading files:",e),g("Dosyalar y\xfcklenirken hata oluştu"),d([])}},[t]),p=(0,r.useCallback)(async()=>{if(!t){m({used:0,limit:0x140000000,percentage:0});return}try{let e=await i.b.calculateUserQuota(t.uid);m(e)}catch(e){console.error("Error loading quota:",e)}},[t]);(0,r.useEffect)(()=>{t?(y(),p()):(d([]),m({used:0,limit:0x140000000,percentage:0}))},[t,y,p]);let b=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",a=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),h(!0);let r=await i.b.uploadFile(t.uid,e,s,a);return await y(),await p(),r}catch(e){throw console.error("Error uploading file:",e),g("Dosya y\xfckleme başarısız"),e}finally{h(!1)}},f=async e=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),h(!0),await i.b.deleteFile(t.uid,e),await y(),await p()}catch(e){throw console.error("Error deleting file:",e),g("Dosya silinirken hata oluştu"),e}finally{h(!1)}},j=async()=>{await y()},N=async()=>{await p()},v=async()=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),h(!0);let e=await i.b.cleanupExpiredFiles(t.uid);return await y(),await p(),e}catch(e){throw console.error("Error cleaning up files:",e),g("Dosya temizleme başarısız"),e}finally{h(!1)}};return(0,a.jsx)(n.Provider,{value:{files:c,quota:o,loading:x,error:u,uploadFile:b,deleteFile:f,refreshFiles:j,refreshQuota:N,cleanupExpiredFiles:v},children:s})}},56960:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var a=t(80333),r=t(44595);class l{static async uploadFile(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf",l=arguments.length>3?arguments[3]:void 0;try{let i=Date.now(),n=l||"".concat(t,"_").concat(i,"_").concat(s.name),c="users/".concat(e,"/").concat(t,"/").concat(n),d=(0,a.KR)(r.IG,c),o={contentType:s.type,customMetadata:{userId:e,originalName:s.name,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),category:t}},m=await (0,a.D)(d,s,o),x=await (0,a.qk)(m.ref),h=await (0,a.yb)(m.ref),u={id:m.ref.name,name:n,fullPath:m.ref.fullPath,size:h.size,contentType:h.contentType||s.type,timeCreated:h.timeCreated,updated:h.updated,downloadURL:x};return console.log("File uploaded to Firebase Storage:",u),{file:u,downloadURL:x}}catch(e){throw console.error("Firebase Storage upload error:",e),Error("Dosya y\xfckleme başarısız")}}static async listUserFiles(e){try{let s=(0,a.KR)(r.IG,"users/".concat(e)),t=await (0,a._w)(s),l=[];for(let e of t.prefixes)for(let s of(await (0,a._w)(e)).items)try{let[e,t]=await Promise.all([(0,a.yb)(s),(0,a.qk)(s)]);l.push({id:s.name,name:s.name,fullPath:s.fullPath,size:e.size,contentType:e.contentType||"application/octet-stream",timeCreated:e.timeCreated,updated:e.updated,downloadURL:t})}catch(e){console.warn("Error getting file metadata:",s.fullPath,e)}return l.sort((e,s)=>new Date(s.timeCreated).getTime()-new Date(e.timeCreated).getTime()),l}catch(e){throw console.error("Firebase Storage list error:",e),Error("Dosya listesi alınamadı")}}static async deleteFile(e,s){try{if(!s.startsWith("users/".concat(e,"/")))throw Error("Bu dosyaya erişim izniniz yok");let t=(0,a.KR)(r.IG,s);await (0,a.XR)(t),console.log("File deleted from Firebase Storage:",s)}catch(e){throw console.error("Firebase Storage delete error:",e),Error("Dosya silinirken hata oluştu")}}static formatFileSize(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}static async calculateUserQuota(e){try{let s=(await this.listUserFiles(e)).reduce((e,s)=>e+s.size,0);return{used:s,limit:0x140000000,percentage:Math.min(s/0x140000000*100,100)}}catch(e){return console.error("Error calculating quota:",e),{used:0,limit:0x140000000,percentage:0}}}static async cleanupExpiredFiles(e){try{let s=await this.listUserFiles(e),t=new Date,a=new Date(t.getTime()-2592e6),r=0;for(let t of s)if(new Date(t.timeCreated)<a)try{await this.deleteFile(e,t.fullPath),r++}catch(e){console.warn("Error deleting expired file:",t.fullPath,e)}return console.log("Cleaned up ".concat(r," expired files for user ").concat(e)),r}catch(e){return console.error("Error cleaning up expired files:",e),0}}}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,3859,4147,7681,7887,7101,5401,9659,6108,2023,7449,8315,6865,65,8618,9186,1670,8550,4229,7236,2278,7298,2518,2685,6917,63,8681,438,927,192,313,542,8857,9836,7885,1696,4130,3775,6819,9479,8425,8410,1556,9134,8996,9759,858,7357,9008,4681,4164,2575,6370,3022,9497,8732,5062,4003,6990,4031,1858,5825,5682,6971,3522,8478,5378,2480,7955,8676,4153,2769,2323,1263,1966,8192,6532,3642,8523,3443,2429,4316,4506,224,1153,9869,1066,134,9344,7927,2171,5828,6696,2935,7659,3469,9652,8282,5635,179,3566,8701,2587,4434,993,3013,9150,9742,3397,625,7370,9945,4408,3537,4409,9169,8441,7358],()=>s(52956)),_N_E=e.O()}]);