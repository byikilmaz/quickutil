(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3272],{51691:(e,r,t)=>{Promise.resolve().then(t.bind(t,59895))},59895:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var a=t(95155),s=t(12115),l=t(45142),i=t(40707),n=t(3623),o=t(14826),d=t(78767),c=t(27919),u=t(19462),m=t(91036),p=t(64852),h=t(17146),x=t(96446),g=t(68651),b=t(68464),f=t(43768);function v(){let{user:e}=(0,h.A)(),{canUseFeature:r}=(0,x.a)(),{uploadFile:t}=(0,g.r)(),[v,y]=(0,s.useState)(!1),w=(0,s.useRef)(null),j=(0,s.useRef)(null),N=(0,s.useRef)(null),k=(0,s.useRef)(null),[D,C]=(0,s.useState)("upload"),[S,F]=(0,s.useState)(null),[z,E]=(0,s.useState)(""),[A,I]=(0,s.useState)(null),[M,P]=(0,s.useState)({x:0,y:0,width:0,height:0}),[U,T]=(0,s.useState)(!1),[R,_]=(0,s.useState)(0),[B,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{"upload"===D&&w.current&&w.current.scrollIntoView({behavior:"smooth",block:"center"})},[D]);let{getRootProps:O,getInputProps:K,isDragActive:L}=(0,c.VB)({onDrop:e=>G(e),accept:{"image/*":[".jpeg",".jpg",".png",".webp",".gif"]},multiple:!1}),G=async e=>{if(0===e.length)return;let r=e[0];F(r),E(URL.createObjectURL(r));try{let e=await (0,f.vX)(r);I(e);let t={x:Math.round(.1*e.width),y:Math.round(.1*e.height),width:Math.round(.8*e.width),height:Math.round(.8*e.height)};P(t),C("configure"),setTimeout(()=>{var e;null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)}catch(e){console.error("Error getting image dimensions:",e)}},Q=e=>{let r;if(!A)return;let{width:t,height:a}=A;switch(e){case"square":let s=.9*Math.min(t,a);r={x:Math.round((t-s)/2),y:Math.round((a-s)/2),width:Math.round(s),height:Math.round(s)};break;case"center":r={x:Math.round(.15*t),y:Math.round(.15*a),width:Math.round(.7*t),height:Math.round(.7*a)};break;case"wide":r={x:0,y:Math.round(.2*a),width:t,height:Math.round(.6*a)};break;case"tall":r={x:Math.round(.2*t),y:0,width:Math.round(.6*t),height:a}}P(r)},V=async()=>{if(S&&M.width&&M.height){if(!e||!r("image_crop")){y(!0);return}C("processing"),T(!0),_(0),setTimeout(()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100);try{for(let e of[{progress:20,message:"Preparing image..."},{progress:50,message:"Analyzing crop area..."},{progress:80,message:"Cropping image..."},{progress:100,message:"Finalizing..."}])_(e.progress),await new Promise(e=>setTimeout(e,500));let r=await (0,f.ey)(S,M),t={originalFile:S,croppedBlob:r.file,originalSize:S.size,croppedSize:r.file.size,cropDimensions:{width:M.width,height:M.height},downloadUrl:URL.createObjectURL(r.file)};q(t),C("result"),setTimeout(()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100),e&&await b.m2.createActivity(e.uid,{type:"image_crop",fileName:r.file.name,originalFileName:S.name,fileSize:S.size,processedSize:r.file.size,status:"success",category:"Image",processingTime:Date.now()})}catch(e){console.error("Crop error:",e),C("configure")}finally{T(!1)}}},W=()=>{C("upload"),F(null),E(""),q(null),I(null),P({x:0,y:0,width:0,height:0}),setTimeout(()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((e,r)=>(0,a.jsx)("div",{className:"absolute w-4 h-4 bg-purple-300/20 rounded-full animate-pulse",style:{left:"".concat(5+4.5*r%95,"%"),top:"".concat(10+7*r%80,"%"),animationDelay:"".concat(.3*r,"s"),animationDuration:"2s"}},r))}),(0,a.jsx)(u.A,{type:"website"}),(0,a.jsx)(m.A,{}),(0,a.jsx)("div",{className:"relative z-10 bg-white/80 backdrop-blur-sm border-b border-white/20 sticky top-0",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:(0,a.jsx)(l.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Image Crop"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Step ","upload"===D?"1":"configure"===D?"2":"processing"===D?"3":"4"," of 4"]})]})]}),"upload"!==D&&(0,a.jsxs)("button",{onClick:W,className:"flex items-center space-x-2 px-4 py-2 bg-white/50 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-white/70 transition-all duration-200",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"New Image"})]})]})})}),(0,a.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{ref:w,className:"py-16 transition-all duration-500 ".concat("upload"===D?"opacity-100":"opacity-50 pointer-events-none"),children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 text-purple-800 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 text-purple-600 animate-pulse mr-2"}),"3M+ Resim Kırpıldı • AI Destekli"]}),(0,a.jsx)("h1",{className:"text-5xl font-bold mb-4",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 bg-clip-text text-transparent",children:"✂️ Image Crop"})}),(0,a.jsx)("p",{className:"text-xl text-gray-700 mb-8 max-w-2xl mx-auto",children:"Crop your images to the perfect size and focus on what matters most"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute inset-0 -m-8",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-purple-200/30 rounded-full animate-spin",style:{animationDuration:"8s"}}),(0,a.jsx)("div",{className:"absolute inset-4 border-2 border-pink-200/30 rounded-full animate-spin",style:{animationDuration:"6s",animationDirection:"reverse"}})]}),(0,a.jsx)("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-yellow-400 rounded-full opacity-60 animate-bounce",style:{animationDelay:"0s"}}),(0,a.jsx)("div",{className:"absolute -bottom-4 -left-4 w-6 h-6 bg-green-400 rounded-full opacity-60 animate-bounce",style:{animationDelay:"1s"}}),(0,a.jsxs)("div",{...O(),className:"relative z-10 bg-white/80 backdrop-blur-sm border-2 border-dashed border-purple-300 rounded-2xl p-12 text-center hover:border-purple-400 hover:bg-white/90 transition-all duration-300 cursor-pointer ".concat(L?"border-purple-500 bg-purple-50":""),children:[(0,a.jsx)("input",{...K()}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg opacity-20 animate-pulse"})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:L?"Drop your image here":"Select Image to Crop"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"PNG, JPEG, WebP, GIF • Up to 50MB"}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200 inline-block",children:"Choose File"})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDD12"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Secure Processing"})]}),(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"⚡"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Lightning Fast"})]}),(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"✂️"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Precise Cropping"})]})]})]})]}),S&&A&&(0,a.jsx)("div",{ref:j,className:"py-16 transition-all duration-500 ".concat("configure"===D?"opacity-100":"opacity-50 pointer-events-none"),children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Configure Crop Area"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Select the area you want to keep"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Crop Preview"}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 relative",children:[(0,a.jsx)("img",{src:z,alt:"Crop preview",className:"max-w-full max-h-[400px] object-contain mx-auto rounded-lg"}),(0,a.jsx)("div",{className:"absolute inset-4 border-2 border-white/50 rounded-lg pointer-events-none",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"})})]}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:[(0,a.jsx)("p",{className:"font-medium",children:S.name}),(0,a.jsxs)("p",{children:[(0,f.v7)(S.size)," • ",A.width,"\xd7",A.height]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Presets"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{onClick:()=>Q("square"),className:"p-3 border border-gray-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-colors text-sm font-medium",children:"\uD83D\uDD32 Square"}),(0,a.jsx)("button",{onClick:()=>Q("center"),className:"p-3 border border-gray-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-colors text-sm font-medium",children:"\uD83C\uDFAF Center"}),(0,a.jsx)("button",{onClick:()=>Q("wide"),className:"p-3 border border-gray-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-colors text-sm font-medium",children:"\uD83D\uDCD0 Wide"}),(0,a.jsx)("button",{onClick:()=>Q("tall"),className:"p-3 border border-gray-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-colors text-sm font-medium",children:"\uD83D\uDCCF Tall"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Crop Dimensions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"X Position"}),(0,a.jsx)("input",{type:"number",value:M.x,onChange:e=>P(r=>({...r,x:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",min:"0",max:A.width})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Y Position"}),(0,a.jsx)("input",{type:"number",value:M.y,onChange:e=>P(r=>({...r,y:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",min:"0",max:A.height})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Width"}),(0,a.jsx)("input",{type:"number",value:M.width,onChange:e=>P(r=>({...r,width:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",min:"1",max:A.width})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Height"}),(0,a.jsx)("input",{type:"number",value:M.height,onChange:e=>P(r=>({...r,height:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",min:"1",max:A.height})]})]})]})]}),(0,a.jsxs)("button",{ref:N,onClick:V,disabled:!M.width||!M.height,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[(0,a.jsx)(l.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"✂️ Start Cropping"})]})]})})]})]})})}),"processing"===D&&(0,a.jsx)("div",{className:"py-16",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-12",children:[(0,a.jsx)("div",{className:"relative mb-8",children:(0,a.jsxs)("div",{className:"w-32 h-32 mx-auto relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-4 border-purple-200 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-2 border-4 border-pink-300 rounded-full animate-spin",style:{animationDuration:"2s"}}),(0,a.jsx)("div",{className:"absolute inset-4 border-4 border-purple-400 rounded-full animate-spin",style:{animationDuration:"1.5s",animationDirection:"reverse"}}),(0,a.jsx)("div",{className:"absolute inset-6 border-4 border-pink-500 rounded-full animate-spin",style:{animationDuration:"1s"}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-12 w-12 text-purple-600 animate-pulse"})})]})}),(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"✂️ AI Cropping Your Image"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please wait while we precisely crop your image..."}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden",children:(0,a.jsx)("div",{className:"h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500 relative",style:{width:"".concat(R,"%")},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[R,"% Complete"]})]})})}),"result"===D&&B&&(0,a.jsx)("div",{ref:k,className:"py-16",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.A,{className:"h-10 w-10 text-white"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"✂️ Crop Complete!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your image has been cropped successfully"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Original"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,a.jsx)("img",{src:z,alt:"Original",className:"max-w-full max-h-48 object-contain mx-auto rounded-lg"})}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,a.jsx)("p",{children:(0,f.v7)(B.originalSize)}),(0,a.jsxs)("p",{children:[null==A?void 0:A.width,"\xd7",null==A?void 0:A.height]})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Cropped"}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 mb-4 border-2 border-purple-200",children:(0,a.jsx)("img",{src:B.downloadUrl,alt:"Cropped",className:"max-w-full max-h-48 object-contain mx-auto rounded-lg"})}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-green-600 font-medium",children:[(0,a.jsx)("p",{children:(0,f.v7)(B.croppedSize)}),(0,a.jsxs)("p",{children:[B.cropDimensions.width,"\xd7",B.cropDimensions.height]})]})]})]}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>{if(B){let e=document.createElement("a");e.href=B.downloadUrl,e.download="cropped_".concat(B.originalFile.name),e.click()}},className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 px-8 rounded-xl font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-3 mx-auto",children:[(0,a.jsx)(o.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"✂️ Download Cropped Image"})]}),(0,a.jsx)("button",{onClick:W,className:"text-gray-600 hover:text-gray-900 px-6 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:"Crop Another Image"})]})]})})})})]}),v&&(0,a.jsx)(p.A,{onClose:()=>y(!1)})]})}},91036:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(95155),s=t(48173),l=t.n(s),i=t(22471),n=t(40187),o=t(31824),d=t(76046);function c(e){let{items:r}=e,t=(0,d.usePathname)(),s=(()=>{if(r)return r;let e={"/pdf-compress":"PDF Sıkıştırma","/pdf-convert":"PDF D\xf6n\xfcşt\xfcrme","/image-convert":"Resim D\xf6n\xfcşt\xfcrme"},a=[{name:"Ana Sayfa",href:"/",current:"/"===t}];return"/"!==t&&e[t]&&a.push({name:e[t],href:t,current:!0}),a})(),c=(0,o.zY)(t);return"/"===t?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}}),(0,a.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",role:"navigation",children:(0,a.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 text-sm",children:s.map((e,r)=>(0,a.jsxs)("li",{className:"inline-flex items-center",children:[r>0&&(0,a.jsx)(i.A,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2","aria-hidden":"true"}),e.current?(0,a.jsxs)("span",{className:"ml-1 text-gray-500 font-medium","aria-current":"page",children:[0===r&&(0,a.jsx)(n.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]}):(0,a.jsxs)(l(),{href:e.href,className:"ml-1 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[0===r&&(0,a.jsx)(n.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]})]},e.href))})})]})}},96446:(e,r,t)=>{"use strict";t.d(r,{S:()=>n,a:()=>o});var a=t(95155),s=t(12115),l=t(17146);let i=(0,s.createContext)(void 0);function n(e){let{children:r}=e,{user:t}=(0,l.A)(),s={unlimited:!0,storageEnabled:!!t,maxFileSize:100,filesExpireInDays:30};return(0,a.jsx)(i.Provider,{value:{quotaInfo:s,canUseFeature:()=>!0,canStoreFiles:()=>!!t,checkFileSize:e=>e<=1048576*s.maxFileSize,getMaxFileSize:()=>s.maxFileSize,loading:!1},children:r})}function o(){let e=(0,s.useContext)(i);return void 0===e?(console.log("useQuota called outside QuotaProvider, returning mock values"),{quotaInfo:{unlimited:!0,storageEnabled:!1,maxFileSize:100,filesExpireInDays:30},canUseFeature:()=>!0,canStoreFiles:()=>!1,checkFileSize:()=>!0,getMaxFileSize:()=>100,loading:!1}):e}},68651:(e,r,t)=>{"use strict";t.d(r,{L:()=>d,r:()=>o});var a=t(95155),s=t(12115),l=t(17146),i=t(56960);let n=(0,s.createContext)(null),o=()=>(0,s.useContext)(n)||(console.log("useStorage called outside StorageProvider, returning mock values"),{files:[],quota:{used:0,limit:0x140000000,percentage:0},loading:!1,error:null,uploadFile:async()=>({file:{},downloadURL:""}),deleteFile:async()=>{},refreshFiles:async()=>{},refreshQuota:async()=>{},cleanupExpiredFiles:async()=>0}),d=e=>{let{children:r}=e,{user:t}=(0,l.A)(),[o,d]=(0,s.useState)([]),[c,u]=(0,s.useState)({used:0,limit:0x140000000,percentage:0}),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(null),g=(0,s.useCallback)(async()=>{if(!t){d([]);return}try{x(null);let e=await i.b.listUserFiles(t.uid);d(e)}catch(e){console.error("Error loading files:",e),x("Dosyalar y\xfcklenirken hata oluştu"),d([])}},[t]),b=(0,s.useCallback)(async()=>{if(!t){u({used:0,limit:0x140000000,percentage:0});return}try{let e=await i.b.calculateUserQuota(t.uid);u(e)}catch(e){console.error("Error loading quota:",e)}},[t]);(0,s.useEffect)(()=>{t?(g(),b()):(d([]),u({used:0,limit:0x140000000,percentage:0}))},[t,g,b]);let f=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",a=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("Kullanıcı giriş yapmamış");try{x(null),p(!0);let s=await i.b.uploadFile(t.uid,e,r,a);return await g(),await b(),s}catch(e){throw console.error("Error uploading file:",e),x("Dosya y\xfckleme başarısız"),e}finally{p(!1)}},v=async e=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{x(null),p(!0),await i.b.deleteFile(t.uid,e),await g(),await b()}catch(e){throw console.error("Error deleting file:",e),x("Dosya silinirken hata oluştu"),e}finally{p(!1)}},y=async()=>{await g()},w=async()=>{await b()},j=async()=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{x(null),p(!0);let e=await i.b.cleanupExpiredFiles(t.uid);return await g(),await b(),e}catch(e){throw console.error("Error cleaning up files:",e),x("Dosya temizleme başarısız"),e}finally{p(!1)}};return(0,a.jsx)(n.Provider,{value:{files:o,quota:c,loading:m,error:h,uploadFile:f,deleteFile:v,refreshFiles:y,refreshQuota:w,cleanupExpiredFiles:j},children:r})}},56960:(e,r,t)=>{"use strict";t.d(r,{b:()=>l});var a=t(80333),s=t(44595);class l{static async uploadFile(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf",l=arguments.length>3?arguments[3]:void 0;try{let i=Date.now(),n=l||"".concat(t,"_").concat(i,"_").concat(r.name),o="users/".concat(e,"/").concat(t,"/").concat(n),d=(0,a.KR)(s.IG,o),c={contentType:r.type,customMetadata:{userId:e,originalName:r.name,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),category:t}},u=await (0,a.D)(d,r,c),m=await (0,a.qk)(u.ref),p=await (0,a.yb)(u.ref),h={id:u.ref.name,name:n,fullPath:u.ref.fullPath,size:p.size,contentType:p.contentType||r.type,timeCreated:p.timeCreated,updated:p.updated,downloadURL:m};return console.log("File uploaded to Firebase Storage:",h),{file:h,downloadURL:m}}catch(e){throw console.error("Firebase Storage upload error:",e),Error("Dosya y\xfckleme başarısız")}}static async listUserFiles(e){try{let r=(0,a.KR)(s.IG,"users/".concat(e)),t=await (0,a._w)(r),l=[];for(let e of t.prefixes)for(let r of(await (0,a._w)(e)).items)try{let[e,t]=await Promise.all([(0,a.yb)(r),(0,a.qk)(r)]);l.push({id:r.name,name:r.name,fullPath:r.fullPath,size:e.size,contentType:e.contentType||"application/octet-stream",timeCreated:e.timeCreated,updated:e.updated,downloadURL:t})}catch(e){console.warn("Error getting file metadata:",r.fullPath,e)}return l.sort((e,r)=>new Date(r.timeCreated).getTime()-new Date(e.timeCreated).getTime()),l}catch(e){throw console.error("Firebase Storage list error:",e),Error("Dosya listesi alınamadı")}}static async deleteFile(e,r){try{if(!r.startsWith("users/".concat(e,"/")))throw Error("Bu dosyaya erişim izniniz yok");let t=(0,a.KR)(s.IG,r);await (0,a.XR)(t),console.log("File deleted from Firebase Storage:",r)}catch(e){throw console.error("Firebase Storage delete error:",e),Error("Dosya silinirken hata oluştu")}}static formatFileSize(e){if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]}static async calculateUserQuota(e){try{let r=(await this.listUserFiles(e)).reduce((e,r)=>e+r.size,0);return{used:r,limit:0x140000000,percentage:Math.min(r/0x140000000*100,100)}}catch(e){return console.error("Error calculating quota:",e),{used:0,limit:0x140000000,percentage:0}}}static async cleanupExpiredFiles(e){try{let r=await this.listUserFiles(e),t=new Date,a=new Date(t.getTime()-2592e6),s=0;for(let t of r)if(new Date(t.timeCreated)<a)try{await this.deleteFile(e,t.fullPath),s++}catch(e){console.warn("Error deleting expired file:",t.fullPath,e)}return console.log("Cleaned up ".concat(s," expired files for user ").concat(e)),s}catch(e){return console.error("Error cleaning up expired files:",e),0}}}}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,9473,4409,1824,1393,8464,8947,8441,7358],()=>r(51691)),_N_E=e.O()}]);