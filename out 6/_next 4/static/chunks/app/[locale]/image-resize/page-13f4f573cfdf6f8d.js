(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{20409:(e,t,r)=>{Promise.resolve().then(r.bind(r,76857))},76857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(95155),s=r(12115),i=r(45142),l=r(40707),n=r(3623),o=r(14826),c=r(78767),d=r(27919),m=r(19462),u=r(91036),x=r(64852),p=r(17146),h=r(96446),g=r(68651),b=r(68464),f=r(43768);function y(){let{user:e}=(0,p.A)(),{canUseFeature:t}=(0,h.a)(),{uploadFile:r}=(0,g.r)(),[y,v]=(0,s.useState)(!1),w=(0,s.useRef)(null),j=(0,s.useRef)(null),N=(0,s.useRef)(null),k=(0,s.useRef)(null),[D,z]=(0,s.useState)("upload"),[S,F]=(0,s.useState)(null),[C,E]=(0,s.useState)(null),[R,P]=(0,s.useState)(void 0),[A,I]=(0,s.useState)(void 0),[M,U]=(0,s.useState)("pixels"),[T,_]=(0,s.useState)(100),[B,L]=(0,s.useState)(!0),[O,q]=(0,s.useState)(!1),[G,K]=(0,s.useState)(!1),[V,Q]=(0,s.useState)(0),[W,H]=(0,s.useState)(null);(0,s.useEffect)(()=>{"upload"===D&&w.current&&w.current.scrollIntoView({behavior:"smooth",block:"center"})},[D]);let{getRootProps:Y,getInputProps:J,isDragActive:X}=(0,d.VB)({onDrop:e=>Z(e),accept:{"image/*":[".jpeg",".jpg",".png",".webp",".gif"]},multiple:!1}),Z=async e=>{if(0===e.length)return;let t=e[0];F(t);try{let e=await (0,f.vX)(t);E(e),P(e.width),I(e.height),z("configure"),setTimeout(()=>{var e;null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)}catch(e){console.error("Error getting image dimensions:",e)}},$=e=>{let t=e?parseInt(e):void 0;P(t),B&&t&&C&&I(Math.round(t/(C.width/C.height)))},ee=e=>{let t=e?parseInt(e):void 0;I(t),B&&t&&C&&P(Math.round(t*(C.width/C.height)))},et=async()=>{if(S&&C){if(!e||!t("image_resize")){v(!0);return}z("processing"),K(!0),Q(0),setTimeout(()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100);try{let t,r;if("percentage"===M?(t=Math.round(C.width*(T/100)),r=Math.round(C.height*(T/100))):(t=R||C.width,r=A||C.height),O&&(t>C.width||r>C.height))throw Error("Resim b\xfcy\xfctme devre dışı. Mevcut boyuttan k\xfc\xe7\xfck bir boyut se\xe7in.");for(let e of[{progress:20,message:"Preparing image..."},{progress:50,message:"Calculating dimensions..."},{progress:80,message:"Resizing image..."},{progress:100,message:"Finalizing..."}])Q(e.progress),await new Promise(e=>setTimeout(e,500));let a={width:t,height:r,maintainAspectRatio:!1},s=await (0,f.yh)(S,a),i={originalFile:S,resizedBlob:s.file,originalSize:S.size,resizedSize:s.file.size,originalDimensions:C,resizedDimensions:{width:t,height:r},downloadUrl:URL.createObjectURL(s.file)};H(i),z("result"),setTimeout(()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100),e&&await b.m2.createActivity(e.uid,{type:"image_resize",fileName:s.file.name,originalFileName:S.name,fileSize:S.size,processedSize:s.file.size,status:"success",category:"Image",processingTime:Date.now()})}catch(e){console.error("Resize error:",e),z("configure")}finally{K(!1)}}},er=()=>{z("upload"),F(null),H(null),E(null),P(void 0),I(void 0),_(100),U("pixels"),L(!0),q(!1),setTimeout(()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((e,t)=>(0,a.jsx)("div",{className:"absolute w-4 h-4 bg-purple-300/20 rounded-full animate-pulse",style:{left:"".concat(5+4.5*t%95,"%"),top:"".concat(10+7*t%80,"%"),animationDelay:"".concat(.3*t,"s"),animationDuration:"2s"}},t))}),(0,a.jsx)(m.A,{type:"website"}),(0,a.jsx)(u.A,{}),(0,a.jsx)("div",{className:"relative z-10 bg-white/80 backdrop-blur-sm border-b border-white/20 sticky top-0",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:(0,a.jsx)(i.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Image Resize"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Step ","upload"===D?"1":"configure"===D?"2":"processing"===D?"3":"4"," of 4"]})]})]}),"upload"!==D&&(0,a.jsxs)("button",{onClick:er,className:"flex items-center space-x-2 px-4 py-2 bg-white/50 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-white/70 transition-all duration-200",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"New Image"})]})]})})}),(0,a.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{ref:w,className:"py-16 transition-all duration-500 ".concat("upload"===D?"opacity-100":"opacity-50 pointer-events-none"),children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 text-purple-800 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 text-purple-600 animate-pulse mr-2"}),"5M+ Resim Boyutlandırıldı • AI Destekli"]}),(0,a.jsx)("h1",{className:"text-5xl font-bold mb-4",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 bg-clip-text text-transparent",children:"\uD83D\uDCD0 Image Resize"})}),(0,a.jsx)("p",{className:"text-xl text-gray-700 mb-8 max-w-2xl mx-auto",children:"Resize your images to any dimension with precision and quality"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute inset-0 -m-8",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-purple-200/30 rounded-full animate-spin",style:{animationDuration:"8s"}}),(0,a.jsx)("div",{className:"absolute inset-4 border-2 border-pink-200/30 rounded-full animate-spin",style:{animationDuration:"6s",animationDirection:"reverse"}})]}),(0,a.jsx)("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-yellow-400 rounded-full opacity-60 animate-bounce",style:{animationDelay:"0s"}}),(0,a.jsx)("div",{className:"absolute -bottom-4 -left-4 w-6 h-6 bg-green-400 rounded-full opacity-60 animate-bounce",style:{animationDelay:"1s"}}),(0,a.jsxs)("div",{...Y(),className:"relative z-10 bg-white/80 backdrop-blur-sm border-2 border-dashed border-purple-300 rounded-2xl p-12 text-center hover:border-purple-400 hover:bg-white/90 transition-all duration-300 cursor-pointer ".concat(X?"border-purple-500 bg-purple-50":""),children:[(0,a.jsx)("input",{...J()}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg opacity-20 animate-pulse"})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:X?"Drop your image here":"Select Image to Resize"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"PNG, JPEG, WebP, GIF • Up to 50MB"}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200 inline-block",children:"Choose File"})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDD12"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Secure Processing"})]}),(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"⚡"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Lightning Fast"})]}),(0,a.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFAF"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pixel Perfect"})]})]})]})]}),S&&C&&(0,a.jsx)("div",{ref:j,className:"py-16 transition-all duration-500 ".concat("configure"===D?"opacity-100":"opacity-50 pointer-events-none"),children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Configure Resize Settings"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Set your desired dimensions and options"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Preview"}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 min-h-[200px] flex items-center justify-center",children:(0,a.jsx)("img",{src:URL.createObjectURL(S),alt:"Preview",className:"max-w-full max-h-[200px] object-contain rounded-lg"})}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:[(0,a.jsx)("p",{className:"font-medium",children:S.name}),(0,a.jsxs)("p",{children:[(0,f.v7)(S.size)," • ",C.width,"\xd7",C.height]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Resize Mode"}),(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>U("pixels"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("pixels"===M?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"By Pixels"}),(0,a.jsx)("button",{onClick:()=>U("percentage"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("percentage"===M?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"By Percentage"})]})]}),"pixels"===M?(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width (px)"}),(0,a.jsx)("input",{type:"number",value:R||"",onChange:e=>$(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Width"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height (px)"}),(0,a.jsx)("input",{type:"number",value:A||"",onChange:e=>ee(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Height"})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resize to % of original"}),(0,a.jsx)("input",{type:"number",value:T,onChange:e=>_(parseFloat(e.target.value)||100),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",min:"1",max:"500"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:B,onChange:e=>L(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Maintain aspect ratio"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:O,onChange:e=>q(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Do not enlarge if smaller"})]})]}),(0,a.jsxs)("button",{ref:N,onClick:et,disabled:"pixels"===M&&!R&&!A,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[(0,a.jsx)(i.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"\uD83D\uDE80 Start Resizing"})]})]})})]})]})})}),"processing"===D&&(0,a.jsx)("div",{className:"py-16",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-12",children:[(0,a.jsx)("div",{className:"relative mb-8",children:(0,a.jsxs)("div",{className:"w-32 h-32 mx-auto relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-4 border-purple-200 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-2 border-4 border-pink-300 rounded-full animate-spin",style:{animationDuration:"2s"}}),(0,a.jsx)("div",{className:"absolute inset-4 border-4 border-purple-400 rounded-full animate-spin",style:{animationDuration:"1.5s",animationDirection:"reverse"}}),(0,a.jsx)("div",{className:"absolute inset-6 border-4 border-pink-500 rounded-full animate-spin",style:{animationDuration:"1s"}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"h-12 w-12 text-purple-600 animate-pulse"})})]})}),(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"\uD83E\uDD16 AI Resizing Your Image"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please wait while we process your image with precision..."}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden",children:(0,a.jsx)("div",{className:"h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500 relative",style:{width:"".concat(V,"%")},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[V,"% Complete"]})]})})}),"result"===D&&W&&(0,a.jsx)("div",{ref:k,className:"py-16",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.A,{className:"h-10 w-10 text-white"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"✅ Resize Complete!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your image has been resized successfully"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Original"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,a.jsx)("img",{src:URL.createObjectURL(W.originalFile),alt:"Original",className:"max-w-full max-h-48 object-contain mx-auto rounded-lg"})}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,a.jsx)("p",{children:(0,f.v7)(W.originalSize)}),(0,a.jsxs)("p",{children:[W.originalDimensions.width,"\xd7",W.originalDimensions.height]})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resized"}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 mb-4 border-2 border-purple-200",children:(0,a.jsx)("img",{src:W.downloadUrl,alt:"Resized",className:"max-w-full max-h-48 object-contain mx-auto rounded-lg"})}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-green-600 font-medium",children:[(0,a.jsx)("p",{children:(0,f.v7)(W.resizedSize)}),(0,a.jsxs)("p",{children:[W.resizedDimensions.width,"\xd7",W.resizedDimensions.height]})]})]})]}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>{if(W){let e=document.createElement("a");e.href=W.downloadUrl,e.download="resized_".concat(W.originalFile.name),e.click()}},className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 px-8 rounded-xl font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-3 mx-auto",children:[(0,a.jsx)(o.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"\uD83D\uDCE5 Download Resized Image"})]}),(0,a.jsx)("button",{onClick:er,className:"text-gray-600 hover:text-gray-900 px-6 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:"Resize Another Image"})]})]})})})})]}),y&&(0,a.jsx)(x.A,{onClose:()=>v(!1)})]})}},91036:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(95155),s=r(48173),i=r.n(s),l=r(22471),n=r(40187),o=r(31824),c=r(76046);function d(e){let{items:t}=e,r=(0,c.usePathname)(),s=(()=>{if(t)return t;let e={"/pdf-compress":"PDF Sıkıştırma","/pdf-convert":"PDF D\xf6n\xfcşt\xfcrme","/image-convert":"Resim D\xf6n\xfcşt\xfcrme"},a=[{name:"Ana Sayfa",href:"/",current:"/"===r}];return"/"!==r&&e[r]&&a.push({name:e[r],href:r,current:!0}),a})(),d=(0,o.zY)(r);return"/"===r?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),(0,a.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",role:"navigation",children:(0,a.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 text-sm",children:s.map((e,t)=>(0,a.jsxs)("li",{className:"inline-flex items-center",children:[t>0&&(0,a.jsx)(l.A,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2","aria-hidden":"true"}),e.current?(0,a.jsxs)("span",{className:"ml-1 text-gray-500 font-medium","aria-current":"page",children:[0===t&&(0,a.jsx)(n.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]}):(0,a.jsxs)(i(),{href:e.href,className:"ml-1 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[0===t&&(0,a.jsx)(n.A,{className:"h-4 w-4 inline mr-1","aria-hidden":"true"}),e.name]})]},e.href))})})]})}},96446:(e,t,r)=>{"use strict";r.d(t,{S:()=>n,a:()=>o});var a=r(95155),s=r(12115),i=r(17146);let l=(0,s.createContext)(void 0);function n(e){let{children:t}=e,{user:r}=(0,i.A)(),s={unlimited:!0,storageEnabled:!!r,maxFileSize:100,filesExpireInDays:30};return(0,a.jsx)(l.Provider,{value:{quotaInfo:s,canUseFeature:()=>!0,canStoreFiles:()=>!!r,checkFileSize:e=>e<=1048576*s.maxFileSize,getMaxFileSize:()=>s.maxFileSize,loading:!1},children:t})}function o(){let e=(0,s.useContext)(l);return void 0===e?(console.log("useQuota called outside QuotaProvider, returning mock values"),{quotaInfo:{unlimited:!0,storageEnabled:!1,maxFileSize:100,filesExpireInDays:30},canUseFeature:()=>!0,canStoreFiles:()=>!1,checkFileSize:()=>!0,getMaxFileSize:()=>100,loading:!1}):e}},68651:(e,t,r)=>{"use strict";r.d(t,{L:()=>c,r:()=>o});var a=r(95155),s=r(12115),i=r(17146),l=r(56960);let n=(0,s.createContext)(null),o=()=>(0,s.useContext)(n)||(console.log("useStorage called outside StorageProvider, returning mock values"),{files:[],quota:{used:0,limit:0x140000000,percentage:0},loading:!1,error:null,uploadFile:async()=>({file:{},downloadURL:""}),deleteFile:async()=>{},refreshFiles:async()=>{},refreshQuota:async()=>{},cleanupExpiredFiles:async()=>0}),c=e=>{let{children:t}=e,{user:r}=(0,i.A)(),[o,c]=(0,s.useState)([]),[d,m]=(0,s.useState)({used:0,limit:0x140000000,percentage:0}),[u,x]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),g=(0,s.useCallback)(async()=>{if(!r){c([]);return}try{h(null);let e=await l.b.listUserFiles(r.uid);c(e)}catch(e){console.error("Error loading files:",e),h("Dosyalar y\xfcklenirken hata oluştu"),c([])}},[r]),b=(0,s.useCallback)(async()=>{if(!r){m({used:0,limit:0x140000000,percentage:0});return}try{let e=await l.b.calculateUserQuota(r.uid);m(e)}catch(e){console.error("Error loading quota:",e)}},[r]);(0,s.useEffect)(()=>{r?(g(),b()):(c([]),m({used:0,limit:0x140000000,percentage:0}))},[r,g,b]);let f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",a=arguments.length>2?arguments[2]:void 0;if(!r)throw Error("Kullanıcı giriş yapmamış");try{h(null),x(!0);let s=await l.b.uploadFile(r.uid,e,t,a);return await g(),await b(),s}catch(e){throw console.error("Error uploading file:",e),h("Dosya y\xfckleme başarısız"),e}finally{x(!1)}},y=async e=>{if(!r)throw Error("Kullanıcı giriş yapmamış");try{h(null),x(!0),await l.b.deleteFile(r.uid,e),await g(),await b()}catch(e){throw console.error("Error deleting file:",e),h("Dosya silinirken hata oluştu"),e}finally{x(!1)}},v=async()=>{await g()},w=async()=>{await b()},j=async()=>{if(!r)throw Error("Kullanıcı giriş yapmamış");try{h(null),x(!0);let e=await l.b.cleanupExpiredFiles(r.uid);return await g(),await b(),e}catch(e){throw console.error("Error cleaning up files:",e),h("Dosya temizleme başarısız"),e}finally{x(!1)}};return(0,a.jsx)(n.Provider,{value:{files:o,quota:d,loading:u,error:p,uploadFile:f,deleteFile:y,refreshFiles:v,refreshQuota:w,cleanupExpiredFiles:j},children:t})}},56960:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var a=r(80333),s=r(44595);class i{static async uploadFile(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf",i=arguments.length>3?arguments[3]:void 0;try{let l=Date.now(),n=i||"".concat(r,"_").concat(l,"_").concat(t.name),o="users/".concat(e,"/").concat(r,"/").concat(n),c=(0,a.KR)(s.IG,o),d={contentType:t.type,customMetadata:{userId:e,originalName:t.name,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),category:r}},m=await (0,a.D)(c,t,d),u=await (0,a.qk)(m.ref),x=await (0,a.yb)(m.ref),p={id:m.ref.name,name:n,fullPath:m.ref.fullPath,size:x.size,contentType:x.contentType||t.type,timeCreated:x.timeCreated,updated:x.updated,downloadURL:u};return console.log("File uploaded to Firebase Storage:",p),{file:p,downloadURL:u}}catch(e){throw console.error("Firebase Storage upload error:",e),Error("Dosya y\xfckleme başarısız")}}static async listUserFiles(e){try{let t=(0,a.KR)(s.IG,"users/".concat(e)),r=await (0,a._w)(t),i=[];for(let e of r.prefixes)for(let t of(await (0,a._w)(e)).items)try{let[e,r]=await Promise.all([(0,a.yb)(t),(0,a.qk)(t)]);i.push({id:t.name,name:t.name,fullPath:t.fullPath,size:e.size,contentType:e.contentType||"application/octet-stream",timeCreated:e.timeCreated,updated:e.updated,downloadURL:r})}catch(e){console.warn("Error getting file metadata:",t.fullPath,e)}return i.sort((e,t)=>new Date(t.timeCreated).getTime()-new Date(e.timeCreated).getTime()),i}catch(e){throw console.error("Firebase Storage list error:",e),Error("Dosya listesi alınamadı")}}static async deleteFile(e,t){try{if(!t.startsWith("users/".concat(e,"/")))throw Error("Bu dosyaya erişim izniniz yok");let r=(0,a.KR)(s.IG,t);await (0,a.XR)(r),console.log("File deleted from Firebase Storage:",t)}catch(e){throw console.error("Firebase Storage delete error:",e),Error("Dosya silinirken hata oluştu")}}static formatFileSize(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}static async calculateUserQuota(e){try{let t=(await this.listUserFiles(e)).reduce((e,t)=>e+t.size,0);return{used:t,limit:0x140000000,percentage:Math.min(t/0x140000000*100,100)}}catch(e){return console.error("Error calculating quota:",e),{used:0,limit:0x140000000,percentage:0}}}static async cleanupExpiredFiles(e){try{let t=await this.listUserFiles(e),r=new Date,a=new Date(r.getTime()-2592e6),s=0;for(let r of t)if(new Date(r.timeCreated)<a)try{await this.deleteFile(e,r.fullPath),s++}catch(e){console.warn("Error deleting expired file:",r.fullPath,e)}return console.log("Cleaned up ".concat(s," expired files for user ").concat(e)),s}catch(e){return console.error("Error cleaning up expired files:",e),0}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,9473,4409,1824,1393,8464,8947,8441,7358],()=>t(20409)),_N_E=e.O()}]);