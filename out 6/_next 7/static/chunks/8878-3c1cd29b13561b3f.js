"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8878],{17146:(e,t,r)=>{r.d(t,{A:()=>l,O:()=>n});var a=r(95155),s=r(12115),i=r(14565),c=r(44595);let o=(0,s.createContext)(void 0),l=()=>(0,s.useContext)(o)||(console.warn("useAuth called outside AuthProvider, returning mock values"),{user:null,userProfile:null,isAdmin:!1,emailVerified:!1,loading:!1,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resendVerification:async()=>{}}),n=e=>{let{children:t}=e,[r,l]=(0,s.useState)(null),[n,u]=(0,s.useState)(null),[d,m]=(0,s.useState)(!0),[y,h]=(0,s.useState)(!1),[g,I]=(0,s.useState)(null);(0,s.useEffect)(()=>{h(!0)},[]),(0,s.useEffect)(()=>{if(y)try{return(0,i.hg)(c.j2,e=>{if(l(e),e){var t,r;u({firstName:(null===(t=e.displayName)||void 0===t?void 0:t.split(" ")[0])||"",lastName:(null===(r=e.displayName)||void 0===r?void 0:r.split(" ")[1])||"",email:e.email||"",createdAt:new Date})}else u(null);m(!1)})}catch(e){console.error("Auth setup error:",e),m(!1)}},[y]);let A=async(e,t)=>{try{await (0,i.x9)(c.j2,e,t)}catch(e){throw console.error("Login error:",e),e}},p=async(e,t,r,a)=>{try{await (0,i.eJ)(c.j2,e,t)}catch(e){throw console.error("Registration error:",e),e}},S=async()=>{try{r&&await (0,i.gA)(r)}catch(e){throw console.error("Resend verification error:",e),e}},v=async()=>{try{await (0,i.CI)(c.j2),u(null)}catch(e){throw console.error("Logout error:",e),e}},E={user:r,userProfile:n,isAdmin:!1,emailVerified:(null==r?void 0:r.emailVerified)||!1,loading:d,error:g,login:A,register:p,logout:v,resendVerification:S};return y?(0,a.jsx)(o.Provider,{value:E,children:t}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}},96551:(e,t,r)=>{r.d(t,{w:()=>c});var a=r(27058),s=r(44595),i=r(34081);class c{static async getDashboardMetrics(){try{let[e,t,r,a,s,i,c,o]=await Promise.all([this.getTotalUsers(),this.getTotalActivities(),this.getTodayActivities(),this.getWeeklyActivities(),this.getMonthlyActivities(),this.getPopularFeatures(),this.getRecentErrors(),this.getSuccessRate()]);return{totalUsers:e,totalActivities:t,totalFilesProcessed:t,totalStorageUsed:0,todayActivities:r,weeklyActivities:a,monthlyActivities:s,successRate:o,popularFeatures:i,recentErrors:c}}catch(e){throw console.error("Dashboard metrics error:",e),e}}static async getTotalUsers(){try{let e=(0,a.rJ)(s.kA,i.I.USERS);return(await (0,a.d_)(e)).data().count}catch(e){return console.error("Get total users error:",e),0}}static async getTotalActivities(){try{let e=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES);return(await (0,a.d_)(e)).data().count}catch(e){return console.error("Get total activities error:",e),0}}static async getTodayActivities(){try{let e=new Date;e.setHours(0,0,0,0);let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a._M)("timestamp",">=",a.Dc.fromDate(e)));return(await (0,a.d_)(r)).data().count}catch(e){return console.error("Get today activities error:",e),0}}static async getWeeklyActivities(){try{let e=new Date;e.setDate(e.getDate()-7);let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a._M)("timestamp",">=",a.Dc.fromDate(e)));return(await (0,a.d_)(r)).data().count}catch(e){return console.error("Get weekly activities error:",e),0}}static async getMonthlyActivities(){try{let e=new Date;e.setDate(e.getDate()-30);let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a._M)("timestamp",">=",a.Dc.fromDate(e)));return(await (0,a.d_)(r)).data().count}catch(e){return console.error("Get monthly activities error:",e),0}}static async getPopularFeatures(){try{let e=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),t=(0,a.P)(e,(0,a.AB)(1e3)),r=await (0,a.GG)(t),c={},o=0;return r.forEach(e=>{let t=e.data().type;c[t]=(c[t]||0)+1,o++}),Object.entries(c).map(e=>{let[t,r]=e;return{feature:t,count:r,percentage:r/o*100}}).sort((e,t)=>t.count-e.count).slice(0,10)}catch(e){return console.error("Get popular features error:",e),[]}}static async getRecentErrors(){try{let e=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),t=(0,a.P)(e,(0,a._M)("status","==","error"),(0,a.My)("timestamp","desc"),(0,a.AB)(100)),r=await (0,a.GG)(t),c={};return r.forEach(e=>{var t;let r=e.data(),a=r.errorMessage||"Unknown error",s=(null===(t=r.timestamp)||void 0===t?void 0:t.toDate())||new Date;c[a]||(c[a]={count:0,lastOccurred:s}),c[a].count++,s>c[a].lastOccurred&&(c[a].lastOccurred=s)}),Object.entries(c).map(e=>{let[t,r]=e;return{error:t,count:r.count,lastOccurred:r.lastOccurred}}).sort((e,t)=>t.count-e.count).slice(0,10)}catch(e){return console.error("Get recent errors error:",e),[]}}static async getSuccessRate(){try{let e=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),t=(0,a.P)(e,(0,a.AB)(1e3)),r=await (0,a.GG)(t),c=0,o=0;return r.forEach(e=>{let t=e.data();c++,"success"===t.status&&o++}),c>0?o/c*100:0}catch(e){return console.error("Get success rate error:",e),0}}static async getActivityTrends(){try{let e=new Date;e.setDate(e.getDate()-30);let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a._M)("timestamp",">=",a.Dc.fromDate(e)),(0,a.My)("timestamp","asc")),c=await (0,a.GG)(r),o={};c.forEach(e=>{var t;let r=e.data(),a=(null===(t=r.timestamp)||void 0===t?void 0:t.toDate().toISOString().split("T")[0])||"",s=r.type;o[a]||(o[a]={}),o[a][s]=(o[a][s]||0)+1});let l=[];return Object.entries(o).forEach(e=>{let[t,r]=e;Object.entries(r).forEach(e=>{let[r,a]=e;l.push({date:t,feature:r,count:a})})}),l.sort((e,t)=>e.date.localeCompare(t.date))}catch(e){return console.error("Get activity trends error:",e),[]}}static async getRecentActivities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a.My)("timestamp","desc"),(0,a.AB)(e)),c=await (0,a.GG)(r),o=[];return c.forEach(e=>{var t;let r=e.data();o.push({id:e.id,userId:r.userId,userEmail:r.userEmail,type:r.type,fileName:r.fileName,fileSize:r.fileSize,status:r.status,timestamp:(null===(t=r.timestamp)||void 0===t?void 0:t.toDate())||new Date,processingTime:r.processingTime,errorMessage:r.errorMessage})}),o}catch(e){return console.error("Get recent activities error:",e),[]}}static async getUserDetails(e){try{let[t,r]=await Promise.all([this.getUserInfo(e),this.getUserActivities(e)]),a={totalActivities:r.length,successfulActivities:r.filter(e=>"success"===e.status).length,totalFileSize:r.reduce((e,t)=>e+t.fileSize,0),averageProcessingTime:r.filter(e=>e.processingTime).reduce((e,t,r,a)=>e+(t.processingTime||0)/a.length,0)};return{userInfo:t,activities:r,stats:a}}catch(e){throw console.error("Get user details error:",e),e}}static async getUserInfo(e){return{id:e,email:"user@example.com"}}static async getUserActivities(e){try{let t=(0,a.rJ)(s.kA,i.I.USER_ACTIVITIES),r=(0,a.P)(t,(0,a._M)("userId","==",e),(0,a.My)("timestamp","desc"),(0,a.AB)(100)),c=await (0,a.GG)(r),o=[];return c.forEach(e=>{var t;let r=e.data();o.push({id:e.id,userId:r.userId,type:r.type,fileName:r.fileName,fileSize:r.fileSize,status:r.status,timestamp:(null===(t=r.timestamp)||void 0===t?void 0:t.toDate())||new Date,processingTime:r.processingTime,errorMessage:r.errorMessage})}),o}catch(e){return console.error("Get user activities error:",e),[]}}static async getErrorAnalysis(){try{let e=(0,a.rJ)(s.kA,"userActivities"),t=(0,a.P)(e,(0,a._M)("status","==","error"),(0,a.My)("timestamp","desc"),(0,a.AB)(100)),r=await (0,a.GG)(t),i=new Map;return r.docs.forEach(e=>{var t;let r=e.data(),a=r.errorMessage||"Unknown error",s=(null===(t=r.timestamp)||void 0===t?void 0:t.toDate())||new Date;if(i.has(a)){let e=i.get(a);e.count++,s>e.lastOccurred&&(e.lastOccurred=s)}else i.set(a,{count:1,lastOccurred:s})}),Array.from(i.entries()).map(e=>{let[t,r]=e;return{error:t,count:r.count,lastOccurred:r.lastOccurred}})}catch(e){return console.error("Get error analysis error:",e),[]}}}},44595:(e,t,r)=>{r.d(t,{IG:()=>m,j2:()=>u,kA:()=>d});var a=r(49904),s=r(14565),i=r(27058),c=r(80333),o=r(42205);let l={apiKey:"AIzaSyCRDKZr-JKCk4L29UlrRE-lh1Q1bDAD3j8",authDomain:"quickutil-d2998.firebaseapp.com",projectId:"quickutil-d2998",storageBucket:"quickutil-d2998.firebasestorage.app",messagingSenderId:"768751015182",appId:"1:768751015182:web:ef3472a90fccf57a72335f"};if(!l.apiKey)throw Error("Firebase API key is missing. Please check your environment variables.");let n=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(l),u=(0,s.xI)(n),d=(0,i.aU)(n),m=(0,c.c7)(n);(0,o.Uz)(n),(0,s.oM)(u,s.F0).catch(e=>{console.warn("Auth persistence setup failed:",e)})},34081:(e,t,r)=>{r.d(t,{I:()=>a});let a={USERS:"users",USER_ACTIVITIES:"userActivities",FILE_METADATA:"fileMetadata",EMAIL_NOTIFICATIONS:"emailNotifications",GOOGLE_DRIVE_INTEGRATION:"googleDriveIntegration",USER_SETTINGS:"userSettings",SYSTEM_STATS:"systemStats",SCHEDULED_TASKS:"scheduledTasks",PROCESSING_QUEUE:"processingQueue",ERROR_LOGS:"errorLogs",USAGE_ANALYTICS:"usageAnalytics"}}}]);