(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5037],{4169:(e,t,r)=>{Promise.resolve().then(r.bind(r,9928))},9928:(e,t,r)=>{"use strict";r.d(t,{default:()=>R});var a=r(95155),s=r(12115),l=r(76046),i=r(48173),n=r.n(i),o=r(40707),c=r(45142),d=r(3623),m=r(35358),u=r(351),x=r(41328),g=r(38552),p=r(14826),h=r(59335),b=r(67884),f=r(27964),v=r(38217),w=r(27919),y=r(41708),j=r(64852),N=r(17146),F=r(96446),k=r(68651),S=r(68464),C=r(20234);let D={brightness:1,contrast:1,saturation:1,hue:0,blur:0,vintage:!1,sepia:!1,blackWhite:!1},A={vibrant:{brightness:1.2,contrast:1.3,saturation:1.4,hue:0,blur:0,vintage:!1,sepia:!1,blackWhite:!1},soft:{brightness:1.1,contrast:.9,saturation:.8,hue:0,blur:1,vintage:!1,sepia:!1,blackWhite:!1},vintage:{brightness:.9,contrast:1.1,saturation:.7,hue:15,blur:0,vintage:!0,sepia:!1,blackWhite:!1},sharp:{brightness:1,contrast:1.4,saturation:1.1,hue:0,blur:0,vintage:!1,sepia:!1,blackWhite:!1}},z=(e,t,r,a)=>{e.width=r.naturalWidth,e.height=r.naturalHeight,t.clearRect(0,0,e.width,e.height);let s="";1!==a.brightness&&(s+="brightness(".concat(a.brightness,") ")),1!==a.contrast&&(s+="contrast(".concat(a.contrast,") ")),1!==a.saturation&&(s+="saturate(".concat(a.saturation,") ")),0!==a.hue&&(s+="hue-rotate(".concat(a.hue,"deg) ")),a.blur>0&&(s+="blur(".concat(a.blur,"px) ")),a.sepia&&(s+="sepia(1) "),a.blackWhite&&(s+="grayscale(1) "),a.vintage&&(s+="sepia(0.4) contrast(1.2) brightness(0.9) "),t.filter=s,t.drawImage(r,0,0),t.filter="none"},E=async(e,t)=>new Promise(r=>{let a=document.createElement("canvas"),s=a.getContext("2d"),l=new Image;l.onload=()=>{z(a,s,l,t);let e=[];1!==t.brightness&&e.push("brightness"),1!==t.contrast&&e.push("contrast"),1!==t.saturation&&e.push("saturation"),0!==t.hue&&e.push("hue"),t.blur>0&&e.push("blur"),t.vintage&&e.push("vintage"),t.sepia&&e.push("sepia"),t.blackWhite&&e.push("blackWhite"),a.toBlob(t=>{t&&t.arrayBuffer().then(t=>{r({filteredImage:t,appliedFilters:e})})},"image/png")},l.src=URL.createObjectURL(e)}),I=e=>({...A[e]}),P=()=>({...D});function R(e){let{locale:t}=e;console.log("Image Filters Client Component loaded with locale:",t),(0,l.useRouter)();let{user:r}=(0,N.A)(),{canUseFeature:i}=(0,F.a)(),{uploadFile:A}=(0,k.r)(),[R,T]=(0,s.useState)(!1),B=(0,C.$)(t),U=(e,t)=>{try{let r=null==B?void 0:B[e];return"string"==typeof r?r:t||e}catch(r){return console.error("getText error:",r),t||e}},[M,W]=(0,s.useState)("upload"),[O,_]=(0,s.useState)(null),[L,q]=(0,s.useState)(D),[V,G]=(0,s.useState)(""),[K,Q]=(0,s.useState)(""),[Y,H]=(0,s.useState)(!1),[$,J]=(0,s.useState)(0),[X,Z]=(0,s.useState)(null),[ee,et]=(0,s.useState)(!1),er=(0,s.useRef)(null),ea=(0,s.useRef)(null),es=(0,s.useRef)(null),el=(0,s.useRef)(null),ei=(0,s.useRef)(null),en=(0,s.useRef)(null),eo=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};(0,s.useEffect)(()=>{"upload"===M&&er.current?setTimeout(()=>{var e;null===(e=er.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},200):"configure"===M&&ea.current?setTimeout(()=>{var e;null===(e=ea.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},200):"processing"===M&&es.current?setTimeout(()=>{var e;null===(e=es.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},200):"result"===M&&el.current&&setTimeout(()=>{var e;null===(e=el.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},200)},[M]);let{getRootProps:ec,getInputProps:ed,isDragActive:em}=(0,w.VB)({onDrop:e=>{e.length>0&&eu(e[0])},accept:{"image/*":[".jpeg",".jpg",".png",".webp",".gif"]},multiple:!1}),eu=async e=>{_(e);let t=URL.createObjectURL(e);G(t),Q(t),W("configure")},ex=e=>{if(!en.current||!ei.current||!O)return;let t=ei.current,r=t.getContext("2d"),a=en.current;r&&a.complete&&(z(t,r,a,e),t.toBlob(e=>{e&&Q(URL.createObjectURL(e))},"image/png"))},eg=(e,t)=>{let r={...L,[e]:t};"vintage"===e&&t?(r.sepia=!1,r.blackWhite=!1):"sepia"===e&&t?(r.vintage=!1,r.blackWhite=!1):"blackWhite"===e&&t&&(r.vintage=!1,r.sepia=!1),q(r),setTimeout(()=>ex(r),50)},ep=e=>{let t=I(e);q(t),setTimeout(()=>ex(t),50)};(0,s.useEffect)(()=>{if(V&&en.current){let e=en.current;e.onload=()=>{ex(L)},e.src=V}},[V]),(0,s.useEffect)(()=>{"configure"===M&&V&&ex(L)},[L,M,V]);let eh=async()=>{if(O){W("processing"),H(!0),J(0);try{let e=setInterval(()=>{J(e=>Math.min(e+10,90))},200),t=Date.now(),a=await E(O,L),s=Date.now()-t;clearInterval(e),J(100);let l=new Blob([a.filteredImage],{type:"image/png"}),i=URL.createObjectURL(l),n={originalFile:O,filteredBlob:l,originalSize:O.size,filteredSize:l.size,downloadUrl:i,appliedFilters:a.appliedFilters,processingTime:s};if(Z(n),Q(i),r)try{await A(O,"image"),await S.m2.createActivity(r.uid,{type:"image_filter",fileName:O.name,originalFileName:O.name,fileSize:O.size,processedSize:l.size,status:"success",category:"Image",processingTime:s,downloadUrl:i})}catch(e){console.error("Upload failed:",e)}setTimeout(()=>W("result"),800)}catch(e){console.error("Filter processing failed:",e),alert("Filtre işlemi sırasında hata oluştu")}finally{H(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(25)].map((e,t)=>(0,a.jsx)("div",{className:"absolute w-4 h-4 bg-purple-300/20 rounded-full animate-pulse",style:{left:"".concat(5+3.8*t%95,"%"),top:"".concat(10+6*t%80,"%"),animationDelay:"".concat(.2*t,"s"),animationDuration:"3s"}},t))}),(0,a.jsx)(y.A,{type:"tool"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{ref:er,className:"py-16 transition-all duration-500 animate-fade-in ".concat("upload"===M?"opacity-100":"opacity-50 pointer-events-none"),children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 text-purple-800 px-6 py-3 rounded-full text-sm font-medium mb-6 shadow-lg backdrop-blur-sm",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-purple-600 mr-2 animate-pulse"}),U("imageFilters.badge","Professional Filters")," • AI Enhanced"]}),(0,a.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:[(0,a.jsx)("span",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 bg-clip-text text-transparent",children:U("imageFilters.title","Professional")}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-gray-900",children:U("imageFilters.subtitle","Image Filters")})]}),(0,a.jsx)("p",{className:"text-xl text-gray-800 max-w-3xl mx-auto mb-8 leading-relaxed",children:U("imageFilters.description","Apply studio-quality filters to your images with real-time preview and comparison tools")})]}),(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{...ec(),className:"relative border-2 border-dashed rounded-3xl p-16 text-center cursor-pointer transition-all duration-300 group ".concat(em?"border-purple-500 bg-purple-100/50 scale-105":"border-purple-300 hover:border-purple-400 bg-white/50 hover:bg-white/70"," backdrop-blur-sm shadow-2xl"),children:[(0,a.jsx)("input",{...ed()}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-purple-300/30 rounded-full animate-spin",style:{animationDuration:"8s"}}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 border-2 border-pink-300/30 rounded-full animate-spin",style:{animationDuration:"6s",animationDirection:"reverse"}})]}),(0,a.jsx)("div",{className:"absolute top-8 left-8 w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute top-12 right-12 w-1.5 h-1.5 bg-green-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute bottom-8 left-12 w-2 h-2 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"2s"}}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-2xl mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(c.A,{className:"h-10 w-10 text-white"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:em?U("imageFilters.upload.dropText","Drop your image here"):U("imageFilters.upload.title","Upload Your Image")}),(0,a.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:U("imageFilters.upload.supportedFormats","Supports JPEG, PNG, WebP, GIF formats (max 10MB)")}),(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 font-semibold text-lg shadow-xl group-hover:shadow-2xl",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 mr-3"}),U("imageFilters.upload.chooseFile","Choose File")]})]})]})})]}),"configure"===M&&O&&(0,a.jsxs)("div",{ref:ea,className:"py-16 min-h-screen animate-fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 text-purple-800 px-6 py-3 rounded-full text-sm font-medium mb-6 shadow-lg backdrop-blur-sm",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-purple-600 mr-2"}),U("imageFilters.configure.step","Step 2: Configure Filters")]}),(0,a.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:U("imageFilters.configure.title","Filter Settings")})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"order-2 lg:order-1",children:(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8 sticky top-8",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-purple-600 mr-3"}),U("imageFilters.configure.preview","Preview")]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"bg-gray-100 rounded-2xl overflow-hidden aspect-square relative",children:[(0,a.jsx)("img",{ref:en,src:V,alt:"Original",className:"hidden",crossOrigin:"anonymous"}),(0,a.jsx)("canvas",{ref:ei,className:"w-full h-full object-cover",style:{display:K?"block":"none"}}),!K&&(0,a.jsx)("img",{src:V,alt:"Original",className:"w-full h-full object-cover"}),Y&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"Applying filters..."})]})})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)("button",{onClick:()=>et(!ee),className:"bg-black/50 text-white px-3 py-1 rounded-lg text-sm backdrop-blur-sm hover:bg-black/70 transition-colors",children:ee?"Single View":"Compare"})})]})]})}),(0,a.jsx)("div",{className:"order-1 lg:order-2",children:(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-6 lg:p-8",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,a.jsx)(x.A,{className:"h-6 w-6 text-purple-600 mr-3"}),U("imageFilters.configure.adjustments","Adjustments")]}),(0,a.jsxs)("div",{className:"space-y-4 lg:space-y-6 mb-6 lg:mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:U("imageFilters.configure.brightness","Brightness")}),(0,a.jsxs)("span",{className:"text-purple-600",children:[Math.round(100*L.brightness),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:L.brightness,onChange:e=>eg("brightness",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:U("imageFilters.configure.contrast","Contrast")}),(0,a.jsxs)("span",{className:"text-purple-600",children:[Math.round(100*L.contrast),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:L.contrast,onChange:e=>eg("contrast",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:U("imageFilters.configure.saturation","Saturation")}),(0,a.jsxs)("span",{className:"text-purple-600",children:[Math.round(100*L.saturation),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:L.saturation,onChange:e=>eg("saturation",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:U("imageFilters.configure.hue","Hue")}),(0,a.jsxs)("span",{className:"text-purple-600",children:[L.hue,"\xb0"]})]}),(0,a.jsx)("input",{type:"range",min:"-180",max:"180",step:"5",value:L.hue,onChange:e=>eg("hue",parseInt(e.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 via-cyan-500 via-blue-500 via-purple-500 to-red-500 rounded-lg appearance-none cursor-pointer"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:U("imageFilters.configure.blur","Blur")}),(0,a.jsxs)("span",{className:"text-purple-600",children:[L.blur,"px"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"10",step:"1",value:L.blur,onChange:e=>eg("blur",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:U("imageFilters.configure.artisticEffects","Artistic Effects")}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsx)("button",{onClick:()=>eg("vintage",!L.vintage),className:"p-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(L.vintage?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:U("imageFilters.configure.vintage","Vintage")}),(0,a.jsx)("button",{onClick:()=>eg("sepia",!L.sepia),className:"p-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(L.sepia?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:U("imageFilters.configure.sepia","Sepia")}),(0,a.jsx)("button",{onClick:()=>eg("blackWhite",!L.blackWhite),className:"p-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(L.blackWhite?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:U("imageFilters.configure.blackWhite","Black & White")})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:U("imageFilters.configure.presets","Presets")}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)("button",{onClick:()=>ep("vibrant"),className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl text-sm font-medium hover:from-pink-600 hover:to-purple-700 transition-all duration-200",children:"Vibrant"}),(0,a.jsx)("button",{onClick:()=>ep("soft"),className:"p-3 bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-xl text-sm font-medium hover:from-green-600 hover:to-teal-700 transition-all duration-200",children:"Soft"}),(0,a.jsx)("button",{onClick:()=>ep("vintage"),className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-xl text-sm font-medium hover:from-yellow-600 hover:to-orange-700 transition-all duration-200",children:"Vintage"}),(0,a.jsx)("button",{onClick:()=>ep("sharp"),className:"p-3 bg-gradient-to-r from-gray-700 to-gray-900 text-white rounded-xl text-sm font-medium hover:from-gray-800 hover:to-black transition-all duration-200",children:"Sharp"})]})]}),(0,a.jsx)("div",{className:"sticky bottom-4 bg-white/90 backdrop-blur-sm rounded-2xl p-4 border border-white/50 shadow-lg",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{let e=P();q(e),setTimeout(()=>ex(e),50)},className:"flex-1 bg-gray-200 text-gray-800 px-6 py-3 rounded-xl hover:bg-gray-300 transition-all duration-200 font-semibold",children:U("imageFilters.configure.reset","Reset")}),(0,a.jsx)("button",{onClick:eh,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:U("imageFilters.configure.apply","Apply Filters")})]})})]})})]})]}),"processing"===M&&(0,a.jsx)("div",{ref:es,className:"py-8 sm:py-12 lg:py-16 min-h-screen flex items-center justify-center animate-fade-in px-4",children:(0,a.jsxs)("div",{className:"max-w-sm sm:max-w-lg lg:max-w-2xl mx-auto text-center",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 text-purple-800 px-4 sm:px-6 py-2 sm:py-3 rounded-full text-xs sm:text-sm font-medium mb-6 sm:mb-8 shadow-lg backdrop-blur-sm",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-600 mr-2 animate-spin"}),U("imageFilters.processing.step","Step 3: Applying Filters")]}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 leading-tight",children:U("imageFilters.processing.title","AI Processing Your Image")}),(0,a.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 mb-8 sm:mb-10 lg:mb-12 px-2",children:U("imageFilters.processing.description","Applying studio-quality filters...")}),(0,a.jsxs)("div",{className:"relative mb-8 sm:mb-10 lg:mb-12",children:[(0,a.jsxs)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 lg:w-40 lg:h-40 mx-auto",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-2 sm:border-3 lg:border-4 border-purple-200 rounded-full animate-spin",style:{animationDuration:"3s"}}),(0,a.jsx)("div",{className:"absolute inset-1 sm:inset-2 border-2 sm:border-3 lg:border-4 border-pink-300 rounded-full animate-spin",style:{animationDuration:"2s",animationDirection:"reverse"}}),(0,a.jsx)("div",{className:"absolute inset-2 sm:inset-3 lg:inset-4 border-2 sm:border-3 lg:border-4 border-purple-400 rounded-full animate-spin",style:{animationDuration:"1.5s"}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-8 w-8 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-purple-600 animate-pulse"})})]}),(0,a.jsx)("div",{className:"absolute top-0 left-4 sm:left-8 lg:-left-4 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute top-2 right-4 sm:right-8 lg:-right-6 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute bottom-0 left-2 sm:left-4 lg:-left-6 w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"2s"}}),(0,a.jsx)("div",{className:"absolute bottom-2 right-2 sm:right-4 lg:-right-4 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"1.5s"}})]}),(0,a.jsx)("div",{className:"w-full max-w-xs sm:max-w-sm lg:max-w-md mx-auto bg-gray-200 rounded-full h-2 sm:h-3 mb-4 sm:mb-6 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-2 sm:h-3 rounded-full transition-all duration-300 ease-out",style:{width:"".concat($,"%")}})}),(0,a.jsxs)("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 px-2",children:[U("imageFilters.processing.progress","Processing Progress"),": ",$,"%"]})]})}),"result"===M&&X&&(0,a.jsxs)("div",{ref:el,className:"py-16 animate-fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center bg-gradient-to-r from-green-100 to-emerald-100 border border-green-200 text-green-800 px-6 py-3 rounded-full text-sm font-medium mb-6 shadow-lg backdrop-blur-sm",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-green-600 mr-2"}),U("imageFilters.result.step","Step 4: Filters Applied!")]}),(0,a.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:U("imageFilters.result.title","Your Filtered Image is Ready")}),(0,a.jsx)("p",{className:"text-xl text-gray-700 mb-8",children:U("imageFilters.result.description","Filters have been successfully applied. Download your new image below.")})]}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:U("imageFilters.result.original","Original")}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-2xl overflow-hidden aspect-video",children:(0,a.jsx)("img",{src:V,alt:"Original",className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"mt-4 text-center text-gray-600",children:(0,a.jsx)("p",{children:eo(X.originalSize)})})]}),(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:U("imageFilters.result.filtered","Filtered")}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-2xl overflow-hidden aspect-video",children:(0,a.jsx)("img",{src:K,alt:"Filtered",className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"mt-4 text-center text-gray-600",children:(0,a.jsx)("p",{children:eo(X.filteredSize)})})]})]}),(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8 mb-8",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:U("imageFilters.result.appliedFilters","Applied Filters")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:X.appliedFilters.length}),(0,a.jsx)("div",{className:"text-gray-600",children:"Filters Applied"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:[X.processingTime,"ms"]}),(0,a.jsx)("div",{className:"text-gray-600",children:U("imageFilters.result.processingTime","Processing Time")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"100%"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Quality Preserved"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>{if(!X)return;let e=document.createElement("a");e.href=X.downloadUrl,e.download=X.originalFile.name.replace(/\.[^/.]+$/,"_filtered.png"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 font-semibold text-lg shadow-xl",children:[(0,a.jsx)(h.A,{className:"h-6 w-6 mr-3"}),U("imageFilters.result.downloadFiltered","Download Filtered Image")]}),(0,a.jsxs)("button",{onClick:()=>{W("upload"),_(null),q(D),G(""),Q(""),Z(null),et(!1),J(0)},className:"inline-flex items-center px-8 py-4 bg-white/70 border-2 border-purple-200 text-purple-700 rounded-xl hover:bg-purple-50 transition-all duration-300 font-semibold text-lg backdrop-blur-sm",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 mr-3"}),U("imageFilters.result.newFilter","New Filter")]})]})]})]}),(0,a.jsx)("div",{className:"py-16 bg-white/30 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[(0,a.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Discover Other Tools"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(n(),{href:"/".concat(t,"/image-compress"),className:"group p-6 bg-white/70 backdrop-blur-sm rounded-2xl border border-white/50 hover:border-purple-200 transition-all duration-300 hover:shadow-xl",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(g.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Image Compress"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Reduce file size with AI"})]}),(0,a.jsxs)(n(),{href:"/".concat(t,"/image-resize"),className:"group p-6 bg-white/70 backdrop-blur-sm rounded-2xl border border-white/50 hover:border-purple-200 transition-all duration-300 hover:shadow-xl",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(b.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Image Resize"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Resize to any dimension"})]}),(0,a.jsxs)(n(),{href:"/".concat(t,"/image-crop"),className:"group p-6 bg-white/70 backdrop-blur-sm rounded-2xl border border-white/50 hover:border-purple-200 transition-all duration-300 hover:shadow-xl",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(f.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Image Crop"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Smart cropping with AI"})]}),(0,a.jsxs)(n(),{href:"/".concat(t,"/image-format-convert"),className:"group p-6 bg-white/70 backdrop-blur-sm rounded-2xl border border-white/50 hover:border-purple-200 transition-all duration-300 hover:shadow-xl",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(v.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Format Convert"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Convert between formats"})]})]})]})})]})}),R&&(0,a.jsx)(j.A,{onClose:()=>T(!1)})]})}},96446:(e,t,r)=>{"use strict";r.d(t,{S:()=>n,a:()=>o});var a=r(95155),s=r(12115),l=r(17146);let i=(0,s.createContext)(void 0);function n(e){let{children:t}=e,{user:r}=(0,l.A)(),s={unlimited:!0,storageEnabled:!!r,maxFileSize:100,filesExpireInDays:30};return(0,a.jsx)(i.Provider,{value:{quotaInfo:s,canUseFeature:()=>!0,canStoreFiles:()=>!!r,checkFileSize:e=>e<=1048576*s.maxFileSize,getMaxFileSize:()=>s.maxFileSize,loading:!1},children:t})}function o(){let e=(0,s.useContext)(i);return void 0===e?(console.log("useQuota called outside QuotaProvider, returning mock values"),{quotaInfo:{unlimited:!0,storageEnabled:!1,maxFileSize:100,filesExpireInDays:30},canUseFeature:()=>!0,canStoreFiles:()=>!1,checkFileSize:()=>!0,getMaxFileSize:()=>100,loading:!1}):e}},68651:(e,t,r)=>{"use strict";r.d(t,{L:()=>c,r:()=>o});var a=r(95155),s=r(12115),l=r(17146),i=r(56960);let n=(0,s.createContext)(null),o=()=>(0,s.useContext)(n)||(console.log("useStorage called outside StorageProvider, returning mock values"),{files:[],quota:{used:0,limit:0x140000000,percentage:0},loading:!1,error:null,uploadFile:async()=>({file:{},downloadURL:""}),deleteFile:async()=>{},refreshFiles:async()=>{},refreshQuota:async()=>{},cleanupExpiredFiles:async()=>0}),c=e=>{let{children:t}=e,{user:r}=(0,l.A)(),[o,c]=(0,s.useState)([]),[d,m]=(0,s.useState)({used:0,limit:0x140000000,percentage:0}),[u,x]=(0,s.useState)(!1),[g,p]=(0,s.useState)(null),h=(0,s.useCallback)(async()=>{if(!r){c([]);return}try{p(null);let e=await i.b.listUserFiles(r.uid);c(e)}catch(e){console.error("Error loading files:",e),p("Dosyalar y\xfcklenirken hata oluştu"),c([])}},[r]),b=(0,s.useCallback)(async()=>{if(!r){m({used:0,limit:0x140000000,percentage:0});return}try{let e=await i.b.calculateUserQuota(r.uid);m(e)}catch(e){console.error("Error loading quota:",e)}},[r]);(0,s.useEffect)(()=>{r?(h(),b()):(c([]),m({used:0,limit:0x140000000,percentage:0}))},[r,h,b]);let f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",a=arguments.length>2?arguments[2]:void 0;if(!r)throw Error("Kullanıcı giriş yapmamış");try{p(null),x(!0);let s=await i.b.uploadFile(r.uid,e,t,a);return await h(),await b(),s}catch(e){throw console.error("Error uploading file:",e),p("Dosya y\xfckleme başarısız"),e}finally{x(!1)}},v=async e=>{if(!r)throw Error("Kullanıcı giriş yapmamış");try{p(null),x(!0),await i.b.deleteFile(r.uid,e),await h(),await b()}catch(e){throw console.error("Error deleting file:",e),p("Dosya silinirken hata oluştu"),e}finally{x(!1)}},w=async()=>{await h()},y=async()=>{await b()},j=async()=>{if(!r)throw Error("Kullanıcı giriş yapmamış");try{p(null),x(!0);let e=await i.b.cleanupExpiredFiles(r.uid);return await h(),await b(),e}catch(e){throw console.error("Error cleaning up files:",e),p("Dosya temizleme başarısız"),e}finally{x(!1)}};return(0,a.jsx)(n.Provider,{value:{files:o,quota:d,loading:u,error:g,uploadFile:f,deleteFile:v,refreshFiles:w,refreshQuota:y,cleanupExpiredFiles:j},children:t})}},56960:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var a=r(80333),s=r(44595);class l{static async uploadFile(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf",l=arguments.length>3?arguments[3]:void 0;try{let i=Date.now(),n=l||"".concat(r,"_").concat(i,"_").concat(t.name),o="users/".concat(e,"/").concat(r,"/").concat(n),c=(0,a.KR)(s.IG,o),d={contentType:t.type,customMetadata:{userId:e,originalName:t.name,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),category:r}},m=await (0,a.D)(c,t,d),u=await (0,a.qk)(m.ref),x=await (0,a.yb)(m.ref),g={id:m.ref.name,name:n,fullPath:m.ref.fullPath,size:x.size,contentType:x.contentType||t.type,timeCreated:x.timeCreated,updated:x.updated,downloadURL:u};return console.log("File uploaded to Firebase Storage:",g),{file:g,downloadURL:u}}catch(e){throw console.error("Firebase Storage upload error:",e),Error("Dosya y\xfckleme başarısız")}}static async listUserFiles(e){try{let t=(0,a.KR)(s.IG,"users/".concat(e)),r=await (0,a._w)(t),l=[];for(let e of r.prefixes)for(let t of(await (0,a._w)(e)).items)try{let[e,r]=await Promise.all([(0,a.yb)(t),(0,a.qk)(t)]);l.push({id:t.name,name:t.name,fullPath:t.fullPath,size:e.size,contentType:e.contentType||"application/octet-stream",timeCreated:e.timeCreated,updated:e.updated,downloadURL:r})}catch(e){console.warn("Error getting file metadata:",t.fullPath,e)}return l.sort((e,t)=>new Date(t.timeCreated).getTime()-new Date(e.timeCreated).getTime()),l}catch(e){throw console.error("Firebase Storage list error:",e),Error("Dosya listesi alınamadı")}}static async deleteFile(e,t){try{if(!t.startsWith("users/".concat(e,"/")))throw Error("Bu dosyaya erişim izniniz yok");let r=(0,a.KR)(s.IG,t);await (0,a.XR)(r),console.log("File deleted from Firebase Storage:",t)}catch(e){throw console.error("Firebase Storage delete error:",e),Error("Dosya silinirken hata oluştu")}}static formatFileSize(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}static async calculateUserQuota(e){try{let t=(await this.listUserFiles(e)).reduce((e,t)=>e+t.size,0);return{used:t,limit:0x140000000,percentage:Math.min(t/0x140000000*100,100)}}catch(e){return console.error("Error calculating quota:",e),{used:0,limit:0x140000000,percentage:0}}}static async cleanupExpiredFiles(e){try{let t=await this.listUserFiles(e),r=new Date,a=new Date(r.getTime()-2592e6),s=0;for(let r of t)if(new Date(r.timeCreated)<a)try{await this.deleteFile(e,r.fullPath),s++}catch(e){console.warn("Error deleting expired file:",r.fullPath,e)}return console.log("Cleaned up ".concat(s," expired files for user ").concat(e)),s}catch(e){return console.error("Error cleaning up expired files:",e),0}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,1794,8779,8405,6921,946,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,9473,4409,234,707,4852,8464,8441,7358],()=>t(4169)),_N_E=e.O()}]);