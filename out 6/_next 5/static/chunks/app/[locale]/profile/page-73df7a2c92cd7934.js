(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2943],{52956:(e,s,t)=>{Promise.resolve().then(t.bind(t,57477))},57477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(95155),r=t(12115),l=t(48173),i=t.n(l),n=t(76046),c=t(17146),o=t(68464),d=t(38217),m=t(45142),x=t(49613),u=t(91153),h=t(60915),g=t(12461),y=t(3623),p=t(27072),f=t(68491),b=t(68651),j=t(56960),v=t(38094),N=t(29682),w=t(21096);function k(e){let{texts:s={title:"Firebase Storage",subtitle:"Dosya depolama alanınız",usedSpace:"Kullanılan Alan",percentUsed:"kullanıldı",filesCount:"dosya",refreshButton:"Yenile",cleanupButton:"Temizle",refreshing:"Y\xfckleniyor...",cleaning:"Temizleniyor...",recentFiles:"Son Dosyalar",showLess:"Daha Az",showMore:"Daha",noFiles:"Hen\xfcz dosya yok",noFilesDesc:"PDF işlemleriniz burada g\xf6r\xfcnecek",downloadTooltip:"İndir",deleteTooltip:"Sil",deleteConfirm:"Bu dosyayı silmek istediğinizden emin misiniz?",cleanupConfirm:"30 g\xfcnden eski dosyalar silinecek. Devam etmek istiyor musunuz?",cleanupSuccess:"{count} adet eski dosya silindi.",cleanupError:"Temizlik işlemi başarısız oldu.",autoDelete:"Dosyalar 30 g\xfcn sonra otomatik silinir",freeSpace:"5GB \xfccretsiz depolama alanı",secureStorage:"G\xfcvenli Firebase Storage"}}=e,{files:t,quota:l,loading:i,error:n,refreshFiles:c,deleteFile:o,cleanupExpiredFiles:d}=(0,b.r)(),[m,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),g=async e=>{if(confirm(s.deleteConfirm))try{await o(e),await c()}catch(e){console.error("Delete error:",e)}},p=async()=>{if(confirm(s.cleanupConfirm)){h(!0);try{let e=await d();alert(s.cleanupSuccess.replace("{count}",e.toString()))}catch(e){console.error("Cleanup error:",e),alert(s.cleanupError)}finally{h(!1)}}},f=e=>{window.open(e.downloadURL,"_blank")},k=e=>j.b.formatFileSize(e),S=e=>new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=e=>e.includes("pdf")?(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(v.A,{className:"h-5 w-5 text-red-600"})}):e.includes("image")?(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(v.A,{className:"h-5 w-5 text-gray-600"})});return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12.017 11.986c-.009-6.373-4.27-8.042-4.27-8.042s-.405 1.062-.018 2.832c.423 1.937 1.712 2.966 1.712 2.966s-.995-.048-2.963-.755c-1.848-.664-3.015-2.52-3.478-4.987-.463-2.467.42-4.994.42-4.994s-.648.06-1.082.525c-.434.465-.648 1.102-.648 1.102s1.155-4.024 4.024-4.024c2.869 0 5.207 2.338 5.207 5.207l.007.037c0 .033.007.066.007.1 0 2.869-2.338 5.207-5.207 5.207l-.037-.007c-.033 0-.066-.007-.1-.007z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:s.subtitle})]})]}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:s.usedSpace}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[k(l.used)," / ",k(l.limit)]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(l.percentage>80?"bg-red-500":l.percentage>60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(l.percentage,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[l.percentage.toFixed(1),"% ",s.percentUsed," • ",t.length," ",s.filesCount]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>c(),disabled:i,className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors disabled:opacity-50",children:i?s.refreshing:s.refreshButton}),(0,a.jsx)("button",{onClick:p,disabled:u||i,className:"bg-gray-50 text-gray-600 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:u?s.cleaning:s.cleanupButton})]}),n&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:n})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:s.recentFiles}),t.length>3&&(0,a.jsx)("button",{onClick:()=>x(!m),className:"text-xs text-blue-600 hover:text-blue-800",children:m?s.showLess:"+".concat(t.length-3," ").concat(s.showMore)})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:s.noFiles}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:s.noFilesDesc})]}):(0,a.jsx)(a.Fragment,{children:(m?t:t.slice(0,3)).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 group",children:[F(e.contentType),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name.replace(/^(pdf|image|document)_\d+_/,"")}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[k(e.size)," • ",S(e.timeCreated)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>f(e),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded",title:s.downloadTooltip,children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>g(e.fullPath),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:s.deleteTooltip,children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("p",{children:["• ",s.autoDelete]}),(0,a.jsxs)("p",{children:["• ",s.freeSpace]}),(0,a.jsxs)("p",{children:["• ",s.secureStorage]})]})})]})}function S(){var e;let{user:s,userProfile:t,loading:l}=(0,c.A)(),[b,j]=(0,r.useState)([]),[v,N]=(0,r.useState)({totalFiles:0,totalSizeSaved:0,thisMonthFiles:0,favoriteFeature:"PDF Sıkıştırma",successRate:0,avgProcessingTime:0}),[w,S]=(0,r.useState)("overview"),[F,D]=(0,r.useState)(!0),[A,z]=(0,r.useState)(null),C=(0,r.useCallback)(async()=>{if(s){D(!0),z(null);try{let[e,t]=await Promise.all([o.m2.getUserActivities(s.uid,{limit:20}),o.m2.getUserStats(s.uid)]);if(e.success&&e.data?j(e.data.items):console.error("Error loading activities:",e.error),t.success&&t.data){let e=t.data;N({totalFiles:e.totalFiles,totalSizeSaved:e.totalSizeSaved,thisMonthFiles:e.thisMonthFiles,favoriteFeature:E(e.favoriteFeature),successRate:e.successRate,avgProcessingTime:e.avgProcessingTime})}else console.error("Error loading stats:",t.error)}catch(e){console.error("Error loading user data:",e),z("Veriler y\xfcklenirken bir hata oluştu")}finally{D(!1)}}},[s]);(0,r.useEffect)(()=>{if(!l&&!s){(0,n.redirect)("/");return}s&&!l&&C()},[s,l,C]);let E=e=>({pdf_compress:"PDF Sıkıştırma",pdf_convert:"PDF D\xf6n\xfcşt\xfcrme",image_convert:"G\xf6rsel D\xf6n\xfcşt\xfcrme"})[e]||"PDF Sıkıştırma",P=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},M=e=>{switch(e){case"pdf_compress":case"pdf_convert":return(0,a.jsx)(d.A,{className:"w-5 h-5 text-red-500"});case"image_convert":return(0,a.jsx)(m.A,{className:"w-5 h-5 text-green-500"});default:return(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-500"})}},T=e=>({pdf_compress:"PDF Sıkıştırma",pdf_convert:"PDF D\xf6n\xfcşt\xfcrme",image_convert:"G\xf6rsel D\xf6n\xfcşt\xfcrme"})[e]||e,B=e=>{let s=Math.floor((new Date().getTime()-e.getTime())/36e5);return s<1?"Az \xf6nce":s<24?"".concat(s," saat \xf6nce"):s<168?"".concat(Math.floor(s/24)," g\xfcn \xf6nce"):"".concat(Math.floor(s/168)," hafta \xf6nce")},_=e=>{let s=new Date,t=Math.floor((e.getTime()-s.getTime())/36e5);return t<0?"S\xfcresi dolmuş":t<24?"".concat(t," saat kaldı"):t<168?"".concat(Math.floor(t/24)," g\xfcn kaldı"):"".concat(Math.floor(t/168)," hafta kaldı")};return l||!s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("nav",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsx)(i(),{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"\uD83C\uDFE0 Ana Sayfa"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:"Profilim"})]})})}),(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-700 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:t?"".concat(t.firstName.charAt(0)).concat(t.lastName.charAt(0)):"K"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t?"".concat(t.firstName," ").concat(t.lastName):"Kullanıcı"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:s.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\xdcye oldu: ",null==t?void 0:null===(e=t.createdAt)||void 0===e?void 0:e.toLocaleDateString("tr-TR")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(x.A,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:()=>S("settings"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(u.A,{className:"w-6 h-6"})})]})]}),A&&(0,a.jsx)("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-red-400 mr-2"}),(0,a.jsx)("p",{className:"text-red-800",children:A}),(0,a.jsx)("button",{onClick:()=>z(null),className:"ml-auto text-red-400 hover:text-red-600",children:"\xd7"})]})}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Genel Bakış",icon:g.A},{id:"files",label:"Dosyalarım",icon:y.A},{id:"settings",label:"Ayarlar",icon:u.A}].map(e=>(0,a.jsxs)("button",{onClick:()=>S(e.id),className:"flex items-center space-x-2 px-3 py-2 border-b-2 font-medium text-sm transition-colors ".concat(w===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label})]},e.id))})})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===w&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Toplam Dosya"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:v.totalFiles})]}),(0,a.jsx)("div",{className:"p-3 bg-blue-50 rounded-full",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tasarruf Edilen"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:P(v.totalSizeSaved)})]}),(0,a.jsx)("div",{className:"p-3 bg-green-50 rounded-full",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Bu Ay"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:v.thisMonthFiles})]}),(0,a.jsx)("div",{className:"p-3 bg-purple-50 rounded-full",children:(0,a.jsx)(p.A,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Başarı Oranı"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[v.successRate.toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"p-3 bg-orange-50 rounded-full",children:(0,a.jsx)(f.A,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Son Aktiviteler"}),(0,a.jsx)("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Yenile"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:F?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===b.length?(0,a.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Hen\xfcz hi\xe7 dosya işlemi yapılmamış"}),(0,a.jsx)("p",{className:"text-sm",children:"İlk dosyanızı işlemek i\xe7in ana sayfaya gidin"})]}):b.slice(0,10).map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-full",children:M(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[T(e.type)," • ",P(e.fileSize),e.processedSize&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["→ ",P(e.processedSize)]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["S\xfcre: ",_(e.expiresAt)]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:B(e.timestamp)}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-800":"error"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"success"===e.status?"Başarılı":"error"===e.status?"Hata":"İşleniyor"})]})},e.id))})]})]}),"files"===w&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Son İşlenen Dosyalar"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Son işlediğiniz dosyalar ve işlem detayları"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:F?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===b.length?(0,a.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Hen\xfcz hi\xe7 dosya işlemi yapılmamış"}),(0,a.jsx)("p",{className:"text-sm",children:"İlk dosyanızı işlemek i\xe7in ana sayfaya gidin"})]}):b.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-full",children:M(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[T(e.type)," • ",P(e.fileSize),e.processedSize&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["→ ",P(e.processedSize)]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["S\xfcre: ",_(e.expiresAt)]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:B(e.timestamp)}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-800":"error"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"success"===e.status?"Başarılı":"error"===e.status?"Hata":"İşleniyor"})]})},e.id))})]})]}),"settings"===w&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profil Ayarları"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad"}),(0,a.jsx)("input",{type:"text",value:(null==t?void 0:t.firstName)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soyad"}),(0,a.jsx)("input",{type:"text",value:(null==t?void 0:t.lastName)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),(0,a.jsx)("input",{type:"email",value:s.email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Profil d\xfczenleme \xf6zelliği yakında eklenecek."})]})]}),(0,a.jsx)(k,{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tercihler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"E-posta Bildirimleri"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Dosya s\xfcresi dolmadan \xf6nce uyarı al"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600",defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Otomatik Sıkıştırma"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"PDF dosyalarını otomatik olarak sıkıştır"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600",defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"G\xfcvenli Silme"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Dosya işleminden sonra orijinali g\xfcvenle sil"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600"})]})]})]})]})]})]})}},17146:(e,s,t)=>{"use strict";t.d(s,{A:()=>c,O:()=>o});var a=t(95155),r=t(12115),l=t(14565),i=t(44595);let n=(0,r.createContext)(void 0),c=()=>(0,r.useContext)(n)||(console.warn("useAuth called outside AuthProvider, returning mock values"),{user:null,userProfile:null,isAdmin:!1,emailVerified:!1,loading:!1,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resendVerification:async()=>{}}),o=e=>{let{children:s}=e,[t,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{h(!0)},[]),(0,r.useEffect)(()=>{if(u)try{return(0,l.hg)(i.j2,e=>{if(c(e),e){var s,t;d({firstName:(null===(s=e.displayName)||void 0===s?void 0:s.split(" ")[0])||"",lastName:(null===(t=e.displayName)||void 0===t?void 0:t.split(" ")[1])||"",email:e.email||"",createdAt:new Date})}else d(null);x(!1)})}catch(e){console.error("Auth setup error:",e),x(!1)}},[u]);let p=async(e,s)=>{try{await (0,l.x9)(i.j2,e,s)}catch(e){throw console.error("Login error:",e),e}},f=async(e,s,t,a)=>{try{await (0,l.eJ)(i.j2,e,s)}catch(e){throw console.error("Registration error:",e),e}},b=async()=>{try{t&&await (0,l.gA)(t)}catch(e){throw console.error("Resend verification error:",e),e}},j=async()=>{try{await (0,l.CI)(i.j2),d(null)}catch(e){throw console.error("Logout error:",e),e}},v={user:t,userProfile:o,isAdmin:!1,emailVerified:(null==t?void 0:t.emailVerified)||!1,loading:m,error:g,login:p,register:f,logout:j,resendVerification:b};return u?(0,a.jsx)(n.Provider,{value:v,children:s}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}},68651:(e,s,t)=>{"use strict";t.d(s,{L:()=>o,r:()=>c});var a=t(95155),r=t(12115),l=t(17146),i=t(56960);let n=(0,r.createContext)(null),c=()=>(0,r.useContext)(n)||(console.log("useStorage called outside StorageProvider, returning mock values"),{files:[],quota:{used:0,limit:0x140000000,percentage:0},loading:!1,error:null,uploadFile:async()=>({file:{},downloadURL:""}),deleteFile:async()=>{},refreshFiles:async()=>{},refreshQuota:async()=>{},cleanupExpiredFiles:async()=>0}),o=e=>{let{children:s}=e,{user:t}=(0,l.A)(),[c,o]=(0,r.useState)([]),[d,m]=(0,r.useState)({used:0,limit:0x140000000,percentage:0}),[x,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(null),y=(0,r.useCallback)(async()=>{if(!t){o([]);return}try{g(null);let e=await i.b.listUserFiles(t.uid);o(e)}catch(e){console.error("Error loading files:",e),g("Dosyalar y\xfcklenirken hata oluştu"),o([])}},[t]),p=(0,r.useCallback)(async()=>{if(!t){m({used:0,limit:0x140000000,percentage:0});return}try{let e=await i.b.calculateUserQuota(t.uid);m(e)}catch(e){console.error("Error loading quota:",e)}},[t]);(0,r.useEffect)(()=>{t?(y(),p()):(o([]),m({used:0,limit:0x140000000,percentage:0}))},[t,y,p]);let f=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",a=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),u(!0);let r=await i.b.uploadFile(t.uid,e,s,a);return await y(),await p(),r}catch(e){throw console.error("Error uploading file:",e),g("Dosya y\xfckleme başarısız"),e}finally{u(!1)}},b=async e=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),u(!0),await i.b.deleteFile(t.uid,e),await y(),await p()}catch(e){throw console.error("Error deleting file:",e),g("Dosya silinirken hata oluştu"),e}finally{u(!1)}},j=async()=>{await y()},v=async()=>{await p()},N=async()=>{if(!t)throw Error("Kullanıcı giriş yapmamış");try{g(null),u(!0);let e=await i.b.cleanupExpiredFiles(t.uid);return await y(),await p(),e}catch(e){throw console.error("Error cleaning up files:",e),g("Dosya temizleme başarısız"),e}finally{u(!1)}};return(0,a.jsx)(n.Provider,{value:{files:c,quota:d,loading:x,error:h,uploadFile:f,deleteFile:b,refreshFiles:j,refreshQuota:v,cleanupExpiredFiles:N},children:s})}},44595:(e,s,t)=>{"use strict";t.d(s,{IG:()=>u,j2:()=>m,kA:()=>x,zS:()=>h});var a=t(49904),r=t(14565),l=t(27058),i=t(80333),n=t(42205),c=t(95003);let o={apiKey:"AIzaSyCRDKZr-JKCk4L29UlrRE-lh1Q1bDAD3j8",authDomain:"quickutil-d2998.firebaseapp.com",projectId:"quickutil-d2998",storageBucket:"quickutil-d2998.firebasestorage.app",messagingSenderId:"768751015182",appId:"1:768751015182:web:ef3472a90fccf57a72335f"};if(!o.apiKey)throw Error("Firebase API key is missing. Please check your environment variables.");let d=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(o),m=(0,r.xI)(d),x=(0,l.aU)(d),u=(0,i.c7)(d);(0,n.Uz)(d),(0,r.oM)(m,r.F0).catch(e=>{console.warn("Auth persistence setup failed:",e)});let h=null;try{h=(0,c.P5)(d)}catch(e){console.warn("Analytics initialization failed:",e)}},56960:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var a=t(80333),r=t(44595);class l{static async uploadFile(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf",l=arguments.length>3?arguments[3]:void 0;try{let i=Date.now(),n=l||"".concat(t,"_").concat(i,"_").concat(s.name),c="users/".concat(e,"/").concat(t,"/").concat(n),o=(0,a.KR)(r.IG,c),d={contentType:s.type,customMetadata:{userId:e,originalName:s.name,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),category:t}},m=await (0,a.D)(o,s,d),x=await (0,a.qk)(m.ref),u=await (0,a.yb)(m.ref),h={id:m.ref.name,name:n,fullPath:m.ref.fullPath,size:u.size,contentType:u.contentType||s.type,timeCreated:u.timeCreated,updated:u.updated,downloadURL:x};return console.log("File uploaded to Firebase Storage:",h),{file:h,downloadURL:x}}catch(e){throw console.error("Firebase Storage upload error:",e),Error("Dosya y\xfckleme başarısız")}}static async listUserFiles(e){try{let s=(0,a.KR)(r.IG,"users/".concat(e)),t=await (0,a._w)(s),l=[];for(let e of t.prefixes)for(let s of(await (0,a._w)(e)).items)try{let[e,t]=await Promise.all([(0,a.yb)(s),(0,a.qk)(s)]);l.push({id:s.name,name:s.name,fullPath:s.fullPath,size:e.size,contentType:e.contentType||"application/octet-stream",timeCreated:e.timeCreated,updated:e.updated,downloadURL:t})}catch(e){console.warn("Error getting file metadata:",s.fullPath,e)}return l.sort((e,s)=>new Date(s.timeCreated).getTime()-new Date(e.timeCreated).getTime()),l}catch(e){throw console.error("Firebase Storage list error:",e),Error("Dosya listesi alınamadı")}}static async deleteFile(e,s){try{if(!s.startsWith("users/".concat(e,"/")))throw Error("Bu dosyaya erişim izniniz yok");let t=(0,a.KR)(r.IG,s);await (0,a.XR)(t),console.log("File deleted from Firebase Storage:",s)}catch(e){throw console.error("Firebase Storage delete error:",e),Error("Dosya silinirken hata oluştu")}}static formatFileSize(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}static async calculateUserQuota(e){try{let s=(await this.listUserFiles(e)).reduce((e,s)=>e+s.size,0);return{used:s,limit:0x140000000,percentage:Math.min(s/0x140000000*100,100)}}catch(e){return console.error("Error calculating quota:",e),{used:0,limit:0x140000000,percentage:0}}}static async cleanupExpiredFiles(e){try{let s=await this.listUserFiles(e),t=new Date,a=new Date(t.getTime()-2592e6),r=0;for(let t of s)if(new Date(t.timeCreated)<a)try{await this.deleteFile(e,t.fullPath),r++}catch(e){console.warn("Error deleting expired file:",t.fullPath,e)}return console.log("Cleaned up ".concat(r," expired files for user ").concat(e)),r}catch(e){return console.error("Error cleaning up expired files:",e),0}}}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,1794,8779,8405,6921,5228,6335,3238,9290,5019,8047,6366,2432,7979,4884,7098,9744,2033,2322,9592,7331,5030,8392,7694,3719,5845,9915,8049,2922,6137,5070,2707,8007,39,408,6727,5370,4191,2834,957,4895,5759,9473,4409,8464,8441,7358],()=>s(52956)),_N_E=e.O()}]);