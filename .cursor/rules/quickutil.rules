# QuickUtil.app - Cursor Rules
# PDF sÄ±kÄ±ÅŸtÄ±rma ve dosya iÅŸleme araÃ§larÄ± sunan Next.js uygulamasÄ±

## ğŸ¯ Proje BaÄŸlamÄ±
- **Proje**: QuickUtil.app - PDF ve dosya iÅŸleme web uygulamasÄ±
- **Tech Stack**: Next.js 15, React 19, TypeScript, Firebase, Tailwind CSS
- **CanlÄ± URL**: https://quickutil.app
- **Firebase Project**: quickutil-d2998

## ğŸ› ï¸ Teknoloji KurallarÄ±

### Next.js & React
- Next.js 15 App Router yapÄ±sÄ±nÄ± kullan
- Server Components Ã¶ncelikli yaklaÅŸÄ±m
- Client Components'leri sadece interaktif Ã¶zellikler iÃ§in kullan
- TypeScript strict mode kurallarÄ±na uy
- React 19 Ã¶zelliklerini kullan (Server Actions, Suspense, etc.)

### TypeScript
- Strict mode aktif - her zaman tip gÃ¼venliÄŸi saÄŸla
- Interface kullanÄ±mÄ±nÄ± type'a tercih et
- Generics'i etkili kullan
- null/undefined kontrollerini ihmal etme
- @/* path alias'Ä±nÄ± kullan

### Firebase
- Authentication: Firebase Auth kullan
- Database: Firestore kullan
- Storage: Firebase Storage kullan
- Security Rules'a uygun veri eriÅŸimi
- Error handling ve loading states'leri dahil et

### Tailwind CSS
- Utility-first yaklaÅŸÄ±m
- Responsive design (mobile-first)
- Dark mode desteÄŸi hazÄ±rlÄ±ÄŸÄ±
- Custom components iÃ§in className prop'larÄ± kullan

## ğŸ“‚ KlasÃ¶r YapÄ±sÄ± KurallarÄ±

### Dosya Organizasyonu
```
src/
â”œâ”€â”€ app/                    # Next.js 15 App Router
â”‚   â”œâ”€â”€ (routes)/          # Route groups
â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â”œâ”€â”€ globals.css        # Global styles
â”‚   â””â”€â”€ layout.tsx         # Root layout
â”œâ”€â”€ components/            # Reusable components
â”‚   â”œâ”€â”€ ui/               # Base UI components
â”‚   â”œâ”€â”€ forms/            # Form components
â”‚   â””â”€â”€ [feature]/        # Feature-specific components
â”œâ”€â”€ lib/                  # Utility functions
â”‚   â”œâ”€â”€ firebase.ts       # Firebase config
â”‚   â”œâ”€â”€ utils.ts          # General utilities
â”‚   â”œâ”€â”€ errorAnalyzer.ts  # Error analysis system
â”‚   â””â”€â”€ [feature]Utils.ts # Feature-specific utils
â”œâ”€â”€ contexts/             # React contexts
â”œâ”€â”€ hooks/               # Custom hooks
â”œâ”€â”€ types/               # TypeScript type definitions
â””â”€â”€ constants/           # App constants
```

### Dosya AdlandÄ±rma
- React components: PascalCase (UserProfile.tsx)
- Utility functions: camelCase (formatDate.ts)
- Constants: UPPER_SNAKE_CASE (API_ENDPOINTS.ts)
- Hook files: use* prefix (useAuth.ts)

## ğŸ¨ Kod StilÄ± KurallarÄ±

### Component YapÄ±sÄ±
```typescript
// Ä°mport sÄ±rasÄ±: React â†’ Next.js â†’ Third-party â†’ Local
import { useState, useEffect } from 'react';
import { NextPage } from 'next';
import { Button } from '@/components/ui/Button';
import { useAuth } from '@/hooks/useAuth';

// Interface tanÄ±mlarÄ± component'ten Ã¶nce
interface ComponentProps {
  title: string;
  onAction: () => void;
}

// Component tanÄ±mÄ±
const Component: React.FC<ComponentProps> = ({ title, onAction }) => {
  // State hooks
  const [loading, setLoading] = useState(false);
  
  // Custom hooks
  const { user } = useAuth();
  
  // Effect hooks
  useEffect(() => {
    // Logic here
  }, []);
  
  // Event handlers
  const handleAction = async () => {
    setLoading(true);
    try {
      await onAction();
    } catch (error) {
      console.error('Error:', error);
    } finally {
      setLoading(false);
    }
  };
  
  return (
    <div className="flex flex-col gap-4">
      <h1 className="text-2xl font-bold">{title}</h1>
      <Button onClick={handleAction} disabled={loading}>
        {loading ? 'Loading...' : 'Action'}
      </Button>
    </div>
  );
};

export default Component;
```

### Error Handling
- Try-catch bloklarÄ± kullan
- User-friendly error messages
- Loading states gÃ¶ster
- Firebase error codes'larÄ± handle et

### Performance
- Lazy loading iÃ§in React.lazy kullan
- Image optimization iÃ§in next/image
- Bundle size iÃ§in dynamic imports
- Memoization (useMemo, useCallback) gerektiÄŸinde

## ğŸ”§ PDF Ä°ÅŸleme KurallarÄ±

### PDF SÄ±kÄ±ÅŸtÄ±rma
```typescript
// pdf-lib kullanÄ±mÄ±
import { PDFDocument } from 'pdf-lib';

const compressPDF = async (file: File, quality: number) => {
  const arrayBuffer = await file.arrayBuffer();
  const pdfDoc = await PDFDocument.load(arrayBuffer);
  
  // Compression logic
  const compressedBytes = await pdfDoc.save({
    useObjectStreams: false,
    objectsPerTick: 50,
  });
  
  return new Blob([compressedBytes], { type: 'application/pdf' });
};
```

### Dosya Ä°ÅŸleme
- File validation (size, type)
- Progress tracking
- Memory optimization
- Error recovery

## ğŸ¯ UI/UX KurallarÄ±

### Accessibility
- ARIA labels kullan
- Keyboard navigation desteÄŸi
- Screen reader friendly
- Color contrast ratios

### Responsive Design
- Mobile-first approach
- Touch-friendly interfaces
- Proper spacing (p-4, m-2, etc.)
- Flexible layouts (flex, grid)

### Loading States
```typescript
const [isLoading, setIsLoading] = useState(false);

// Loading UI
{isLoading ? (
  <div className="flex items-center justify-center p-8">
    <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
  </div>
) : (
  <ContentComponent />
)}
```

## ğŸ” GÃ¼venlik KurallarÄ±

### Firebase Security
- Authentication required routes
- Firestore security rules
- File upload validation
- Rate limiting

### Data Validation
- Input sanitization
- File type validation
- Size limits
- XSS prevention

## ğŸ“Š Performance KurallarÄ±

### Code Splitting
```typescript
// Dynamic imports
const AdminPanel = dynamic(() => import('@/components/AdminPanel'), {
  loading: () => <div>Loading...</div>,
});
```

### Optimization
- Image optimization
- Font optimization
- CSS purging
- JavaScript minification

## ğŸ§ª Test KurallarÄ±

### Unit Testing
- Component testing
- Utility function testing
- Hook testing
- Mock external dependencies

### Integration Testing
- API endpoint testing
- User flow testing
- Firebase integration testing

## ğŸ“ DokÃ¼mantasyon KurallarÄ±

### Code Comments
```typescript
/**
 * PDF sÄ±kÄ±ÅŸtÄ±rma fonksiyonu
 * @param file - SÄ±kÄ±ÅŸtÄ±rÄ±lacak PDF dosyasÄ±
 * @param quality - SÄ±kÄ±ÅŸtÄ±rma kalitesi (0-1)
 * @returns SÄ±kÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸ PDF Blob
 */
const compressPDF = async (file: File, quality: number): Promise<Blob> => {
  // Implementation
};
```

### README Updates
- Feature aÃ§Ä±klamalarÄ±
- Setup instructions
- API documentation
- Deployment guide

## ğŸš€ Deployment KurallarÄ±

### Build Process
- Type checking
- ESLint validation
- Build optimization
- Environment variables

### Firebase Deployment
```json
{
  "hosting": {
    "public": "out",
    "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
    "rewrites": [
      {
        "source": "**",
        "destination": "/index.html"
      }
    ]
  }
}
```

## ğŸ” Error Analysis & Debugging KurallarÄ±

### QuickUtil Error Analyzer Sistemi
```typescript
import { analyzeFirebaseError, analyzeGitHubError, analyzeCodeError } from '@/lib/errorAnalyzer';

// Firebase error handling
try {
  await signInWithEmailAndPassword(auth, email, password);
} catch (error: any) {
  analyzeFirebaseError(error, {
    code: error.code,
    customData: { operation: 'login', email }
  });
  throw error;
}

// GitHub API error handling
try {
  const response = await fetch('/api/github/repos');
} catch (error: any) {
  analyzeGitHubError(error, {
    status: error.status,
    endpoint: '/api/github/repos',
    method: 'GET'
  });
}

// General code error handling
try {
  processUserData(userData);
} catch (error) {
  analyzeCodeError(error, { context: 'user_data_processing' });
}
```

### Error Categories & Severity
```typescript
// Error categories
enum ErrorCategory {
  FIREBASE = 'firebase',    // Firebase Auth, Firestore, Functions
  GITHUB = 'github',        // GitHub API, Actions, Repository
  CODE = 'code',           // JavaScript/TypeScript runtime errors
  NETWORK = 'network',     // Network connectivity issues
  VALIDATION = 'validation', // Input validation failures
  UI = 'ui'               // User interface errors
}

// Severity levels
enum ErrorSeverity {
  LOW = 'low',           // Minor issues, fallbacks available
  MEDIUM = 'medium',     // Moderate impact, some features affected
  HIGH = 'high',         // Significant impact, major features affected
  CRITICAL = 'critical'  // System-wide impact, immediate attention needed
}
```

### Firebase Error Analysis
```typescript
// Automatic Firebase error detection and recommendations
const firebaseErrorPatterns = {
  'auth/api-key-not-valid': {
    severity: 'critical',
    recommendations: [
      'Firebase Console\'dan doÄŸru API key\'i kontrol edin',
      'Environment variables\'larÄ± doÄŸrulayÄ±n',
      'Firebase project ayarlarÄ±nÄ± kontrol edin'
    ]
  },
  'auth/user-not-found': {
    severity: 'high',
    recommendations: [
      'KullanÄ±cÄ±nÄ±n kayÄ±tlÄ± olup olmadÄ±ÄŸÄ±nÄ± kontrol edin',
      'Email adresini doÄŸrulayÄ±n',
      'KayÄ±t sayfasÄ±na yÃ¶nlendirin'
    ]
  },
  'permission-denied': {
    severity: 'high',
    recommendations: [
      'Firestore security rules\'larÄ± kontrol edin',
      'KullanÄ±cÄ± authentication durumunu kontrol edin',
      'Gerekli izinleri doÄŸrulayÄ±n'
    ]
  }
};
```

### GitHub Error Analysis
```typescript
// GitHub API error patterns and solutions
const githubErrorPatterns = {
  401: {
    severity: 'high',
    recommendations: [
      'GitHub Personal Access Token\'Ä± kontrol edin',
      'Token permission\'larÄ±nÄ± doÄŸrulayÄ±n',
      'Token sÃ¼resinin dolup dolmadÄ±ÄŸÄ±nÄ± kontrol edin'
    ]
  },
  403: {
    severity: 'high',
    recommendations: [
      'Rate limit\'e takÄ±lmÄ±ÅŸ olabilirsiniz',
      'Repository access permission\'larÄ±nÄ± kontrol edin',
      'GitHub API quota\'nÄ±zÄ± kontrol edin'
    ]
  },
  404: {
    severity: 'medium',
    recommendations: [
      'Repository URL\'ini kontrol edin',
      'Branch name\'i doÄŸrulayÄ±n',
      'File path\'inin doÄŸru olduÄŸunu kontrol edin'
    ]
  }
};
```

### MCP Server EntegrasyonlarÄ±
```typescript
// Firebase MCP Server integration
// npx firebase-tools@latest experimental:mcp
const firebaseMCPAnalysis = {
  tools: [
    'firestore_read', 'firestore_write', 'firestore_query',
    'auth_list_users', 'auth_get_user', 'auth_create_user',
    'functions_call', 'functions_logs',
    'storage_upload', 'storage_download'
  ],
  capabilities: [
    'Firestore database debugging',
    'Authentication flow analysis', 
    'Cloud Functions monitoring',
    'Storage operations tracking'
  ]
};

// GitHub MCP Server integration
const githubMCPAnalysis = {
  tools: [
    'get_repository', 'list_issues', 'create_issue',
    'get_pull_request', 'merge_pull_request',
    'search_code', 'get_file_contents',
    'create_branch', 'push_files'
  ],
  capabilities: [
    'Repository analysis and debugging',
    'Actions workflow monitoring',
    'Issue tracking and management',
    'Security vulnerability scanning'
  ]
};

// MCPScan.ai security analysis
const mcpSecurityAnalysis = {
  vulnerabilities: [
    'Command injection patterns',
    'Tool poisoning detection',
    'Malicious instruction scanning',
    'Cross-server interference',
    'Authentication deficiencies'
  ],
  monitoring: [
    'Real-time vulnerability scanning',
    'Continuous security assessment',
    'Pattern recognition for threats',
    'Automated security reporting'
  ]
};
```

### Error Monitoring & Analytics
```typescript
// Error tracking with Firebase Analytics
import { analytics } from '@/lib/firebase';
import { logEvent } from 'firebase/analytics';

// Track analyzed errors
logEvent(analytics, 'error_analyzed', {
  error_category: 'firebase',
  error_severity: 'high',
  error_code: 'auth/user-not-found',
  session_id: sessionId,
  user_id: userId
});

// Track error resolution
logEvent(analytics, 'error_resolved', {
  error_id: 'firebase_1704672000000',
  resolution_time: 120, // seconds
  resolution_method: 'user_retry'
});
```

### Console Logging
```typescript
// Development only
if (process.env.NODE_ENV === 'development') {
  console.log('Debug info:', data);
}
```

### Error Tracking
- Structured error logging
- User action tracking
- Performance monitoring
- Firebase Analytics

## ğŸ“± Mobile KurallarÄ±

### Touch Interactions
- Minimum 44px touch targets
- Swipe gestures
- Haptic feedback
- Orientation support

### Performance
- Lazy loading
- Image optimization
- Reduced animations
- Efficient rendering

## ğŸ¨ Design System

### Color Palette
```css
/* Primary colors */
--primary-50: #eff6ff;
--primary-500: #3b82f6;
--primary-900: #1e3a8a;

/* Semantic colors */
--success: #10b981;
--warning: #f59e0b;
--error: #ef4444;
```

### Typography
```css
/* Headings */
.heading-1 { @apply text-4xl font-bold; }
.heading-2 { @apply text-3xl font-semibold; }
.heading-3 { @apply text-2xl font-semibold; }

/* Body text */
.body-lg { @apply text-lg; }
.body-sm { @apply text-sm; }
```

## ğŸ”„ Git KurallarÄ±

### Commit Messages
```
feat: PDF compression algorithm improvement [NOTION-123]
fix: Turkish language support bug [NOTION-124]
ui: responsive design optimization [NOTION-125]
docs: update API documentation
test: add unit tests for PDF utils
analyze: implement error analysis system [ERROR-ANALYZER]
```

### Branch Naming
```
feature/pdf-compression-improvement
bugfix/turkish-language-support
ui/responsive-design-optimization
hotfix/critical-security-patch
analyze/error-tracking-system
```

## ğŸ“Š Analytics & Monitoring

### Firebase Analytics
- User engagement tracking
- Feature usage metrics
- Performance monitoring
- Error tracking

### Custom Events
```typescript
import { analytics } from '@/lib/firebase';
import { logEvent } from 'firebase/analytics';

// Track user actions
logEvent(analytics, 'pdf_compressed', {
  file_size: fileSize,
  compression_ratio: ratio,
  processing_time: time
});
```

## ğŸ¯ Ã–ncelik SÄ±rasÄ±

1. **GÃ¼venlik**: Input validation, authentication
2. **Error Analysis**: Comprehensive error tracking and resolution
3. **Performance**: Loading times, optimization
4. **Accessibility**: WCAG compliance
5. **User Experience**: Intuitive interface
6. **Mobile Experience**: Touch-friendly design
7. **SEO**: Meta tags, structured data
8. **Analytics**: User behavior tracking
9. **Testing**: Unit & integration tests

## ğŸ“ Notlar

- Her yeni Ã¶zellik iÃ§in Notion'da task oluÅŸtur
- Code review iÃ§in pull request kullan
- Documentation'Ä± gÃ¼ncel tut
- Performance metrics'leri izle
- User feedback'i toplam ve deÄŸerlendir
- Error patterns'leri dÃ¼zenli analiz et
- MCP server entegrasyonlarÄ±nÄ± gÃ¼ncel tut

---

Bu kurallar QuickUtil.app projesinin kalitesini, performansÄ±nÄ± ve maintainability'sini artÄ±rmak iÃ§in tasarlanmÄ±ÅŸtÄ±r. Her zaman gÃ¼ncel tut ve proje gereksinimlerine gÃ¶re adapte et. 